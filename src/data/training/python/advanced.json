{
  "category": "advanced",
  "language": "python",
  "exerciseCount": 50,
  "exercises": [
    {
      "id": "py_adv_001",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Animal:\n    def parler(self):\n        return 'Son'\n\na = Animal()\nprint(a.parler())",
      "options": [
        "Son",
        "Animal",
        "parler",
        "Erreur"
      ],
      "correctAnswer": 0,
      "explanation": "Ligne 1-3 : D√©finition de la classe Animal\n‚Ä¢ def parler(self) est une m√©thode d'instance\n‚Ä¢ self repr√©sente l'instance elle-m√™me\n‚Ä¢ La m√©thode retourne la string 'Son'\n\nLigne 5 : a = Animal() cr√©e une instance de Animal\n\nLigne 6 : a.parler() appelle la m√©thode sur l'instance\n‚Ä¢ Python passe automatiquement a comme self\n‚Ä¢ Retourne 'Son'\n\nR√©sultat : Son",
      "highlightedLines": [2, 3, 6],
      "xpGain": 10,
      "tags": ["classes", "methods", "self"],
      "category": "advanced"
    },
    {
      "id": "py_adv_002",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Personne:\n    def __init__(self, nom):\n        self.nom = nom\n\np = Personne('Alice')\nprint(p.nom)",
      "options": [
        "Personne",
        "Alice",
        "nom",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1-3 : Classe Personne avec constructeur __init__\n‚Ä¢ __init__ est appel√© automatiquement √† la cr√©ation\n‚Ä¢ self.nom = nom cr√©e un attribut d'instance\n\nLigne 5 : Personne('Alice') cr√©e une instance\n‚Ä¢ __init__ est appel√© avec nom='Alice'\n‚Ä¢ p.nom devient 'Alice'\n\nLigne 6 : print(p.nom) affiche 'Alice'\n\nR√©sultat : Alice",
      "highlightedLines": [2, 3, 6],
      "xpGain": 10,
      "tags": ["classes", "__init__", "attributes"],
      "category": "advanced"
    },
    {
      "id": "py_adv_003",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "try:\n    x = 10 / 2\nexcept ZeroDivisionError:\n    x = 0\nprint(x)",
      "options": [
        "0",
        "5.0",
        "Erreur",
        "None"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1-2 : Le bloc try tente la division\n‚Ä¢ 10 / 2 = 5.0 (division normale, pas d'erreur)\n\nLigne 3-4 : Le bloc except n'est PAS ex√©cut√©\n‚Ä¢ Il n'y a pas de ZeroDivisionError\n‚Ä¢ x reste √† 5.0\n\nLigne 5 : print(x) affiche 5.0\n\nR√©sultat : 5.0\n\nüí° except ne s'ex√©cute que si une erreur se produit dans try",
      "highlightedLines": [2, 5],
      "xpGain": 10,
      "tags": ["exceptions", "try-except"],
      "category": "advanced"
    },
    {
      "id": "py_adv_004",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "try:\n    x = 10 / 0\nexcept ZeroDivisionError:\n    x = -1\nprint(x)",
      "options": [
        "0",
        "10",
        "-1",
        "Erreur"
      ],
      "correctAnswer": 2,
      "explanation": "Ligne 1-2 : Le bloc try tente la division\n‚Ä¢ 10 / 0 g√©n√®re une ZeroDivisionError\n\nLigne 3-4 : Le bloc except attrape l'erreur\n‚Ä¢ x = -1\n\nLigne 5 : print(x) affiche -1\n\nR√©sultat : -1\n\nüí° Le programme ne plante pas gr√¢ce √† la gestion d'exception",
      "highlightedLines": [2, 4],
      "xpGain": 10,
      "tags": ["exceptions", "try-except", "ZeroDivisionError"],
      "category": "advanced"
    },
    {
      "id": "py_adv_005",
      "language": "python",
      "difficulty": 1,
      "type": "find_error",
      "inputType": "clickable_lines",
      "question": "Quelle ligne contient une erreur ?",
      "code": "class Voiture:\n    def __init__(self, marque):\n        marque = marque\n\nv = Voiture('Tesla')\nprint(v.marque)",
      "clickableLines": [1, 2, 3, 4, 5, 6],
      "correctAnswer": 3,
      "explanation": "Ligne 3 : Il manque 'self.' devant marque\n\n‚Ä¢ marque = marque ne fait rien d'utile\n‚Ä¢ Il faut √©crire self.marque = marque\n\nSans self., l'attribut n'est pas attach√© √† l'instance\n‚Ä¢ Ligne 6 : v.marque n'existe pas ‚Üí AttributeError\n\nCorrection : self.marque = marque",
      "highlightedLines": [3],
      "xpGain": 10,
      "tags": ["classes", "self", "attributes", "errors"],
      "category": "advanced"
    },
    {
      "id": "py_adv_006",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "import math\n\nprint(math.sqrt(16))",
      "options": [
        "4",
        "4.0",
        "16",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1 : import math charge le module math\n\nLigne 3 : math.sqrt(16) calcule la racine carr√©e\n‚Ä¢ sqrt = square root (racine carr√©e)\n‚Ä¢ ‚àö16 = 4.0\n\nR√©sultat : 4.0\n\nüí° sqrt() retourne toujours un float, m√™me si le r√©sultat est entier",
      "highlightedLines": [1, 3],
      "xpGain": 10,
      "tags": ["modules", "import", "math"],
      "category": "advanced"
    },
    {
      "id": "py_adv_007",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "from math import pi\n\nprint(round(pi, 2))",
      "options": [
        "3.14",
        "3.1415",
        "pi",
        "Erreur"
      ],
      "correctAnswer": 0,
      "explanation": "Ligne 1 : from math import pi importe directement pi\n‚Ä¢ pi = 3.141592653589793\n\nLigne 3 : round(pi, 2) arrondit √† 2 d√©cimales\n‚Ä¢ 3.141592... ‚Üí 3.14\n\nR√©sultat : 3.14\n\nüí° from ... import ... permet d'utiliser pi directement sans math.pi",
      "highlightedLines": [1, 3],
      "xpGain": 10,
      "tags": ["modules", "import", "math"],
      "category": "advanced"
    },
    {
      "id": "py_adv_008",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Chat:\n    espece = 'F√©lin'\n\nc1 = Chat()\nc2 = Chat()\nprint(c1.espece == c2.espece)",
      "options": [
        "True",
        "False",
        "F√©lin",
        "Erreur"
      ],
      "correctAnswer": 0,
      "explanation": "Ligne 2 : espece = 'F√©lin' est une variable de CLASSE\n‚Ä¢ Elle est partag√©e par toutes les instances\n\nLigne 4-5 : Cr√©ation de deux instances\n‚Ä¢ c1 et c2 acc√®dent √† la m√™me variable de classe\n\nLigne 6 : c1.espece == c2.espece\n‚Ä¢ 'F√©lin' == 'F√©lin' ‚Üí True\n\nR√©sultat : True\n\nüí° Les variables de classe sont partag√©es entre toutes les instances",
      "highlightedLines": [2, 6],
      "xpGain": 10,
      "tags": ["classes", "class-variables"],
      "category": "advanced"
    },
    {
      "id": "py_adv_009",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "def generateur():\n    yield 1\n    yield 2\n    yield 3\n\ng = generateur()\nprint(next(g))",
      "options": [
        "1",
        "[1, 2, 3]",
        "generateur",
        "Erreur"
      ],
      "correctAnswer": 0,
      "explanation": "Ligne 1-4 : generateur() est une fonction g√©n√©ratrice\n‚Ä¢ yield retourne une valeur et met en pause la fonction\n‚Ä¢ Contrairement √† return, la fonction peut reprendre\n\nLigne 6 : g = generateur() cr√©e un g√©n√©rateur\n‚Ä¢ Le code n'est pas encore ex√©cut√©\n\nLigne 7 : next(g) demande la prochaine valeur\n‚Ä¢ Ex√©cute jusqu'au premier yield\n‚Ä¢ yield 1 retourne 1\n\nR√©sultat : 1\n\nüí° yield permet de g√©n√©rer des valeurs √† la demande",
      "highlightedLines": [2, 7],
      "xpGain": 10,
      "tags": ["generators", "yield", "next"],
      "category": "advanced"
    },
    {
      "id": "py_adv_010",
      "language": "python",
      "difficulty": 1,
      "type": "concept_understanding",
      "inputType": "options",
      "question": "Que fait ce programme ?",
      "code": "with open('test.txt', 'w') as f:\n    f.write('Hello')",
      "options": [
        "Lit le fichier test.txt",
        "√âcrit 'Hello' dans test.txt",
        "Supprime test.txt",
        "Affiche 'Hello'"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1 : open('test.txt', 'w') ouvre le fichier\n‚Ä¢ 'w' = write mode (√©criture)\n‚Ä¢ with ... as f : context manager\n‚Ä¢ Le fichier sera automatiquement ferm√©\n\nLigne 2 : f.write('Hello')\n‚Ä¢ √âcrit 'Hello' dans le fichier\n\nR√©sultat : Le fichier test.txt contient 'Hello'\n\nüí° Le mode 'w' √©crase le contenu existant. Utilisez 'a' pour ajouter √† la fin.",
      "highlightedLines": [1, 2],
      "xpGain": 10,
      "tags": ["files", "with", "context-manager"],
      "category": "advanced"
    },
    {
      "id": "py_adv_011",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Animal:\n    pass\n\nclass Chien(Animal):\n    pass\n\nd = Chien()\nprint(isinstance(d, Animal))",
      "options": [
        "True",
        "False",
        "Chien",
        "Erreur"
      ],
      "correctAnswer": 0,
      "explanation": "Ligne 1-2 : Classe Animal (classe parente)\n‚Ä¢ pass signifie que la classe est vide\n\nLigne 4-5 : Classe Chien h√©rite de Animal\n‚Ä¢ Chien(Animal) signifie que Chien est un Animal\n\nLigne 7 : d = Chien() cr√©e une instance de Chien\n\nLigne 8 : isinstance(d, Animal)\n‚Ä¢ V√©rifie si d est une instance de Animal\n‚Ä¢ Chien h√©rite de Animal, donc d EST un Animal\n‚Ä¢ Retourne True\n\nR√©sultat : True\n\nüí° isinstance() v√©rifie aussi les classes parentes",
      "highlightedLines": [4, 8],
      "xpGain": 10,
      "tags": ["classes", "inheritance", "isinstance"],
      "category": "advanced"
    },
    {
      "id": "py_adv_012",
      "language": "python",
      "difficulty": 1,
      "type": "find_error",
      "inputType": "clickable_lines",
      "question": "Quelle ligne contient une erreur ?",
      "code": "numbers = [1, 2, 3]\nfor i in range(3):\n  result = numbers[i] * 2\n    print(result)",
      "clickableLines": [1, 2, 3, 4],
      "correctAnswer": 4,
      "explanation": "Ligne 4 : Erreur d'indentation\n\nLe print() a une indentation incorrecte (4 espaces au lieu de 2). En Python, tous les statements dans un m√™me bloc doivent avoir la m√™me indentation.\n\nCorrection : aligner print(result) avec result = ...",
      "highlightedLines": [4],
      "xpGain": 10,
      "tags": ["syntax", "indentation", "loops"],
      "category": "advanced"
    },
    {
      "id": "py_adv_013",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "import json\n\ndata = {'nom': 'Alice', 'age': 25}\ntexte = json.dumps(data)\nprint(type(texte).__name__)",
      "options": [
        "dict",
        "str",
        "json",
        "list"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1 : import json charge le module JSON\n\nLigne 3 : data est un dictionnaire Python\n\nLigne 4 : json.dumps(data)\n‚Ä¢ dumps = dump to string\n‚Ä¢ Convertit le dict en cha√Æne JSON\n‚Ä¢ Retourne '{\"nom\": \"Alice\", \"age\": 25}'\n\nLigne 5 : type(texte).__name__ = 'str'\n\nR√©sultat : str\n\nüí° json.dumps() ‚Üí dict vers string, json.loads() ‚Üí string vers dict",
      "highlightedLines": [4, 5],
      "xpGain": 10,
      "tags": ["json", "modules", "serialization"],
      "category": "advanced"
    },
    {
      "id": "py_adv_014",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Rectangle:\n    def __init__(self, l, h):\n        self.largeur = l\n        self.hauteur = h\n    \n    def aire(self):\n        return self.largeur * self.hauteur\n\nr = Rectangle(5, 3)\nprint(r.aire())",
      "options": [
        "8",
        "15",
        "53",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1-7 : Classe Rectangle avec constructeur et m√©thode aire()\n\nLigne 9 : Rectangle(5, 3) cr√©e une instance\n‚Ä¢ l = 5, h = 3\n‚Ä¢ self.largeur = 5, self.hauteur = 3\n\nLigne 10 : r.aire() calcule l'aire\n‚Ä¢ 5 * 3 = 15\n\nR√©sultat : 15",
      "highlightedLines": [7, 10],
      "xpGain": 10,
      "tags": ["classes", "methods", "attributes"],
      "category": "advanced"
    },
    {
      "id": "py_adv_015",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "free_input",
      "keyboardType": "numeric",
      "question": "Quelle valeur est affich√©e ?",
      "code": "def gen():\n    for i in range(5):\n        yield i * 2\n\nprint(sum(gen()))",
      "acceptedAnswers": ["20"],
      "explanation": "Ligne 1-3 : gen() est un g√©n√©rateur\n‚Ä¢ G√©n√®re 0*2, 1*2, 2*2, 3*2, 4*2\n‚Ä¢ Soit 0, 2, 4, 6, 8\n\nLigne 5 : sum(gen()) additionne toutes les valeurs\n‚Ä¢ 0 + 2 + 4 + 6 + 8 = 20\n\nR√©sultat : 20\n\nüí° Un g√©n√©rateur peut √™tre utilis√© partout o√π un it√©rable est attendu",
      "highlightedLines": [3, 5],
      "xpGain": 10,
      "tags": ["generators", "yield", "sum"],
      "category": "advanced"
    },
    {
      "id": "py_adv_016",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Compteur:\n    total = 0\n    \n    def __init__(self):\n        Compteur.total += 1\n\na = Compteur()\nb = Compteur()\nprint(a.total)",
      "options": [
        "0",
        "1",
        "2",
        "Erreur"
      ],
      "correctAnswer": 2,
      "explanation": "Ligne 2 : total = 0 est une variable de CLASSE\n‚Ä¢ Partag√©e entre toutes les instances\n\nLigne 4-5 : __init__ incr√©mente Compteur.total\n\nLigne 7 : a = Compteur() ‚Üí total = 1\nLigne 8 : b = Compteur() ‚Üí total = 2\n\nLigne 9 : a.total acc√®de √† la variable de classe\n‚Ä¢ a.total = Compteur.total = 2\n\nR√©sultat : 2\n\nüí° Acc√©der via une instance (a.total) lit aussi la variable de classe",
      "highlightedLines": [2, 5, 9],
      "xpGain": 10,
      "tags": ["classes", "class-variables"],
      "category": "advanced"
    },
    {
      "id": "py_adv_017",
      "language": "python",
      "difficulty": 1,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "import re\n\ntexte = 'Python 3.9'\nmatch = re.search(r'\\d+', texte)\nprint(match.group())",
      "options": [
        "Python",
        "3",
        "3.9",
        "9"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1 : import re charge le module regex\n\nLigne 3 : texte = 'Python 3.9'\n\nLigne 4 : re.search(r'\\d+', texte)\n‚Ä¢ \\d+ cherche un ou plusieurs chiffres\n‚Ä¢ Trouve '3' (premier match)\n‚Ä¢ Ne continue pas apr√®s le point\n\nLigne 5 : match.group() retourne le match\n\nR√©sultat : 3\n\nüí° \\d+ s'arr√™te au premier caract√®re non-chiffre (le point)",
      "highlightedLines": [4, 5],
      "xpGain": 10,
      "tags": ["regex", "re", "search"],
      "category": "advanced"
    },
    {
      "id": "py_adv_018",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Animal:\n    def parler(self):\n        return 'Son'\n\nclass Chien(Animal):\n    def parler(self):\n        return 'Wouf'\n\na = Chien()\nprint(a.parler())",
      "options": [
        "Son",
        "Wouf",
        "SonWouf",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1-3 : Classe Animal avec m√©thode parler()\n\nLigne 5-7 : Classe Chien h√©rite de Animal\n‚Ä¢ Ligne 6-7 : parler() est red√©finie (override)\n‚Ä¢ La m√©thode du Chien remplace celle d'Animal\n\nLigne 9 : a = Chien() cr√©e un Chien\n\nLigne 10 : a.parler() appelle la m√©thode de Chien\n‚Ä¢ Retourne 'Wouf'\n\nR√©sultat : Wouf\n\nüí° C'est le polymorphisme : la classe enfant red√©finit le comportement",
      "highlightedLines": [6, 7, 10],
      "xpGain": 20,
      "tags": ["classes", "inheritance", "polymorphism", "override"],
      "category": "advanced"
    },
    {
      "id": "py_adv_019",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Animal:\n    def __init__(self, nom):\n        self.nom = nom\n\nclass Chien(Animal):\n    def __init__(self, nom, race):\n        super().__init__(nom)\n        self.race = race\n\nd = Chien('Rex', 'Berger')\nprint(d.nom)",
      "options": [
        "Rex",
        "Berger",
        "Chien",
        "Erreur"
      ],
      "correctAnswer": 0,
      "explanation": "Ligne 1-3 : Animal avec __init__(nom)\n\nLigne 5-8 : Chien h√©rite de Animal\n‚Ä¢ Ligne 7 : super().__init__(nom) appelle __init__ du parent\n‚Ä¢ Cela initialise self.nom\n‚Ä¢ Ligne 8 : self.race = race ajoute un attribut\n\nLigne 10 : Chien('Rex', 'Berger')\n‚Ä¢ super().__init__('Rex') ‚Üí self.nom = 'Rex'\n‚Ä¢ self.race = 'Berger'\n\nLigne 11 : print(d.nom) affiche 'Rex'\n\nR√©sultat : Rex\n\nüí° super() permet d'appeler les m√©thodes de la classe parente",
      "highlightedLines": [7, 11],
      "xpGain": 20,
      "tags": ["classes", "inheritance", "super"],
      "category": "advanced"
    },
    {
      "id": "py_adv_020",
      "language": "python",
      "difficulty": 2,
      "type": "find_error",
      "inputType": "clickable_lines",
      "question": "Quelle ligne contient une erreur logique ?",
      "code": "def calculer_moyenne(notes):\n    total = sum(notes)\n    moyenne = total / len(notes)\n    return round(moyenne)\n\nresultat = calculer_moyenne([])\nprint(resultat)",
      "clickableLines": [1, 2, 3, 4, 5, 6, 7],
      "correctAnswer": 6,
      "explanation": "Ligne 6 : calculer_moyenne([]) avec liste vide\n\nDans la fonction :\n‚Ä¢ Ligne 2 : total = sum([]) = 0\n‚Ä¢ Ligne 3 : moyenne = 0 / len([]) = 0 / 0\n‚Ä¢ ‚Üí ZeroDivisionError !\n\nCorrection :\ndef calculer_moyenne(notes):\n    if not notes:\n        return 0\n    return round(sum(notes) / len(notes))",
      "highlightedLines": [6],
      "xpGain": 20,
      "tags": ["functions", "errors", "edge-cases"],
      "category": "advanced"
    },
    {
      "id": "py_adv_021",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "def modifier_liste(lst):\n    lst.append(4)\n    return lst\n\noriginal = [1, 2, 3]\nnouvelle = modifier_liste(original)\nprint(len(original))",
      "options": [
        "3",
        "4",
        "7",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1-3 : La fonction modifie la liste pass√©e\n\nLigne 5 : original = [1, 2, 3]\n\nLigne 6 : modifier_liste(original)\n‚Ä¢ Les listes sont pass√©es par r√©f√©rence\n‚Ä¢ lst pointe vers la m√™me liste que original\n‚Ä¢ lst.append(4) modifie original directement\n\nLigne 7 : len(original) = 4\n‚Ä¢ original = [1, 2, 3, 4]\n\nR√©sultat : 4\n\nüí° Les listes sont mutables : modifier lst modifie aussi original",
      "highlightedLines": [2, 5],
      "xpGain": 20,
      "tags": ["lists", "mutability", "references"],
      "category": "advanced"
    },
    {
      "id": "py_adv_022",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Cercle:\n    def __init__(self, rayon):\n        self._rayon = rayon\n    \n    @property\n    def rayon(self):\n        return self._rayon\n\nc = Cercle(5)\nprint(c.rayon)",
      "options": [
        "5",
        "_rayon",
        "rayon",
        "Erreur"
      ],
      "correctAnswer": 0,
      "explanation": "Ligne 1-7 : Classe Cercle avec property\n‚Ä¢ _rayon est un attribut 'priv√©' (convention)\n‚Ä¢ @property transforme rayon() en attribut\n\nLigne 5-7 : Le d√©corateur @property\n‚Ä¢ Permet d'acc√©der √† rayon comme un attribut\n‚Ä¢ Mais c'est en fait une m√©thode qui s'ex√©cute\n\nLigne 9 : c = Cercle(5) ‚Üí _rayon = 5\n\nLigne 10 : c.rayon (sans parenth√®ses)\n‚Ä¢ Appelle la m√©thode rayon() gr√¢ce √† @property\n‚Ä¢ Retourne self._rayon = 5\n\nR√©sultat : 5\n\nüí° @property permet de contr√¥ler l'acc√®s aux attributs",
      "highlightedLines": [5, 6, 7, 10],
      "xpGain": 20,
      "tags": ["classes", "property", "encapsulation"],
      "category": "advanced"
    },
    {
      "id": "py_adv_023",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Math:\n    @staticmethod\n    def double(x):\n        return x * 2\n\nprint(Math.double(5))",
      "options": [
        "5",
        "10",
        "Math",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1-4 : Classe Math avec m√©thode statique\n\nLigne 2-4 : @staticmethod\n‚Ä¢ Pas de self en param√®tre\n‚Ä¢ La m√©thode ne d√©pend pas de l'instance\n‚Ä¢ Peut √™tre appel√©e sur la classe directement\n\nLigne 6 : Math.double(5)\n‚Ä¢ Appelle la m√©thode statique sur la classe\n‚Ä¢ Pas besoin de cr√©er une instance\n‚Ä¢ Retourne 5 * 2 = 10\n\nR√©sultat : 10\n\nüí° @staticmethod est utilis√© quand la m√©thode n'a pas besoin de self",
      "highlightedLines": [2, 3, 6],
      "xpGain": 20,
      "tags": ["classes", "staticmethod"],
      "category": "advanced"
    },
    {
      "id": "py_adv_024",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Compteur:\n    instances = 0\n    \n    def __init__(self):\n        Compteur.instances += 1\n    \n    @classmethod\n    def get_count(cls):\n        return cls.instances\n\na, b = Compteur(), Compteur()\nprint(Compteur.get_count())",
      "options": [
        "0",
        "1",
        "2",
        "Erreur"
      ],
      "correctAnswer": 2,
      "explanation": "Ligne 2 : instances = 0 (variable de classe)\n\nLigne 7-9 : @classmethod\n‚Ä¢ Premier param√®tre est cls (la classe)\n‚Ä¢ Peut acc√©der aux variables de classe\n\nLigne 11 : a, b = Compteur(), Compteur()\n‚Ä¢ Cr√©e 2 instances\n‚Ä¢ instances = 2\n\nLigne 12 : Compteur.get_count()\n‚Ä¢ Appelle la m√©thode de classe\n‚Ä¢ Retourne cls.instances = 2\n\nR√©sultat : 2\n\nüí° @classmethod re√ßoit la classe (cls) au lieu de l'instance (self)",
      "highlightedLines": [7, 8, 9, 12],
      "xpGain": 20,
      "tags": ["classes", "classmethod", "class-variables"],
      "category": "advanced"
    },
    {
      "id": "py_adv_025",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "def generateur():\n    yield 1\n    yield 2\n    yield 3\n\ng = generateur()\nnext(g)\nnext(g)\nprint(next(g))",
      "options": [
        "1",
        "2",
        "3",
        "StopIteration"
      ],
      "correctAnswer": 2,
      "explanation": "Ligne 1-4 : Fonction g√©n√©ratrice avec 3 yield\n\nLigne 6 : g = generateur() cr√©e le g√©n√©rateur\n\nLigne 7 : next(g) retourne 1 (premier yield)\nLigne 8 : next(g) retourne 2 (deuxi√®me yield)\nLigne 9 : next(g) retourne 3 (troisi√®me yield)\n\nR√©sultat : 3\n\nüí° Chaque next() reprend l'ex√©cution apr√®s le dernier yield",
      "highlightedLines": [4, 9],
      "xpGain": 20,
      "tags": ["generators", "yield", "next"],
      "category": "advanced"
    },
    {
      "id": "py_adv_026",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "import re\n\ntexte = 'email@test.com'\nif re.match(r'.+@.+\\..+', texte):\n    print('Valide')\nelse:\n    print('Invalide')",
      "options": [
        "Valide",
        "Invalide",
        "True",
        "Erreur"
      ],
      "correctAnswer": 0,
      "explanation": "Ligne 1 : import re pour les expressions r√©guli√®res\n\nLigne 4 : Pattern r'.+@.+\\..+'\n‚Ä¢ .+ : un ou plusieurs caract√®res quelconques\n‚Ä¢ @ : le caract√®re @\n‚Ä¢ .+ : un ou plusieurs caract√®res\n‚Ä¢ \\. : un point (√©chapp√© avec \\)\n‚Ä¢ .+ : un ou plusieurs caract√®res\n\nLe texte 'email@test.com' correspond :\n‚Ä¢ 'email' + '@' + 'test' + '.' + 'com' ‚úì\n\nR√©sultat : Valide\n\nüí° C'est une validation d'email simple (pas compl√®te)",
      "highlightedLines": [4, 5],
      "xpGain": 20,
      "tags": ["regex", "re", "validation"],
      "category": "advanced"
    },
    {
      "id": "py_adv_027",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "free_input",
      "keyboardType": "numeric",
      "question": "Quelle valeur est affich√©e ?",
      "code": "class Nombre:\n    def __init__(self, val):\n        self.val = val\n    \n    def __add__(self, other):\n        return Nombre(self.val + other.val)\n\na = Nombre(5)\nb = Nombre(3)\nc = a + b\nprint(c.val)",
      "acceptedAnswers": ["8"],
      "explanation": "Ligne 1-6 : Classe Nombre avec __add__ surcharg√©\n\nLigne 5-6 : __add__ est une m√©thode sp√©ciale\n‚Ä¢ Appel√©e quand on utilise l'op√©rateur +\n‚Ä¢ Retourne un nouveau Nombre avec la somme\n\nLigne 8-9 : a = Nombre(5), b = Nombre(3)\n\nLigne 10 : a + b appelle a.__add__(b)\n‚Ä¢ self.val = 5, other.val = 3\n‚Ä¢ Retourne Nombre(8)\n\nLigne 11 : c.val = 8\n\nR√©sultat : 8\n\nüí° __add__ permet de personnaliser l'op√©rateur +",
      "highlightedLines": [5, 6, 10],
      "xpGain": 20,
      "tags": ["classes", "magic-methods", "__add__"],
      "category": "advanced"
    },
    {
      "id": "py_adv_028",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "try:\n    resultat = 10 / 2\nexcept ZeroDivisionError:\n    resultat = 0\nelse:\n    resultat *= 2\nprint(resultat)",
      "options": [
        "0",
        "5.0",
        "10.0",
        "Erreur"
      ],
      "correctAnswer": 2,
      "explanation": "Ligne 1-2 : try ex√©cute 10 / 2 = 5.0 (pas d'erreur)\n\nLigne 3-4 : except n'est PAS ex√©cut√© (pas d'erreur)\n\nLigne 5-6 : else EST ex√©cut√© car pas d'exception\n‚Ä¢ resultat *= 2 ‚Üí 5.0 * 2 = 10.0\n\nLigne 7 : print(resultat) affiche 10.0\n\nR√©sultat : 10.0\n\nüí° Le bloc else dans try/except s'ex√©cute uniquement si aucune exception n'a √©t√© lev√©e",
      "highlightedLines": [5, 6, 7],
      "xpGain": 20,
      "tags": ["exceptions", "try-except-else"],
      "category": "advanced"
    },
    {
      "id": "py_adv_029",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "from itertools import chain\n\na = [1, 2]\nb = [3, 4]\nresult = list(chain(a, b))\nprint(result)",
      "options": [
        "[[1, 2], [3, 4]]",
        "[1, 2, 3, 4]",
        "[(1, 3), (2, 4)]",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1 : import chain depuis itertools\n\nLigne 3-4 : Deux listes a et b\n\nLigne 5 : chain(a, b)\n‚Ä¢ 'Encha√Æne' les it√©rables\n‚Ä¢ Parcourt a puis b de mani√®re s√©quentielle\n‚Ä¢ √âquivalent √† it√©rer sur [1, 2] puis [3, 4]\n\nLigne 5 : list(...) convertit en liste\n\nR√©sultat : [1, 2, 3, 4]\n\nüí° chain est plus efficace que a + b pour de grandes listes",
      "highlightedLines": [5],
      "xpGain": 20,
      "tags": ["itertools", "chain", "iterators"],
      "category": "advanced"
    },
    {
      "id": "py_adv_030",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Personne:\n    def __str__(self):\n        return 'Une personne'\n    \n    def __repr__(self):\n        return 'Personne()'\n\np = Personne()\nprint(p)",
      "options": [
        "Une personne",
        "Personne()",
        "<Personne object>",
        "Erreur"
      ],
      "correctAnswer": 0,
      "explanation": "Ligne 2-3 : __str__ d√©finit la repr√©sentation 'lisible'\n‚Ä¢ Utilis√©e par print() et str()\n\nLigne 5-6 : __repr__ d√©finit la repr√©sentation 'technique'\n‚Ä¢ Utilis√©e par repr() et dans le shell interactif\n\nLigne 9 : print(p) utilise __str__\n‚Ä¢ Retourne 'Une personne'\n\nR√©sultat : Une personne\n\nüí° print() pr√©f√®re __str__, mais utilise __repr__ si __str__ n'existe pas",
      "highlightedLines": [2, 3, 9],
      "xpGain": 20,
      "tags": ["classes", "__str__", "__repr__"],
      "category": "advanced"
    },
    {
      "id": "py_adv_031",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "from dataclasses import dataclass\n\n@dataclass\nclass Point:\n    x: int\n    y: int\n\np = Point(3, 4)\nprint(p)",
      "options": [
        "Point(3, 4)",
        "Point(x=3, y=4)",
        "(3, 4)",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1 : Import de dataclass\n\nLigne 3-6 : @dataclass cr√©e automatiquement :\n‚Ä¢ __init__(self, x, y)\n‚Ä¢ __repr__ pour l'affichage\n‚Ä¢ __eq__ pour la comparaison\n\nLigne 8 : Point(3, 4) utilise le __init__ g√©n√©r√©\n\nLigne 9 : print(p) utilise le __repr__ g√©n√©r√©\n‚Ä¢ Format : NomClasse(attribut=valeur, ...)\n\nR√©sultat : Point(x=3, y=4)\n\nüí° @dataclass √©vite d'√©crire du code r√©p√©titif",
      "highlightedLines": [3, 9],
      "xpGain": 20,
      "tags": ["dataclasses", "decorators"],
      "category": "advanced"
    },
    {
      "id": "py_adv_032",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class GestionFichier:\n    def __enter__(self):\n        print('Ouverture')\n        return self\n    \n    def __exit__(self, *args):\n        print('Fermeture')\n\nwith GestionFichier():\n    print('Traitement')",
      "options": [
        "Traitement",
        "Ouverture puis Traitement puis Fermeture",
        "Ouverture puis Fermeture puis Traitement",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "Classe qui impl√©mente le protocole context manager\n\nLigne 9 : with GestionFichier():\n1. __enter__() est appel√© ‚Üí print('Ouverture')\n2. Le bloc with s'ex√©cute ‚Üí print('Traitement')\n3. __exit__() est appel√© ‚Üí print('Fermeture')\n\nOrdre d'ex√©cution :\n1. Ouverture\n2. Traitement\n3. Fermeture\n\nR√©sultat : Ouverture puis Traitement puis Fermeture\n\nüí° __exit__ est appel√© m√™me si une exception se produit",
      "highlightedLines": [2, 6, 9, 10],
      "xpGain": 20,
      "tags": ["context-manager", "__enter__", "__exit__"],
      "category": "advanced"
    },
    {
      "id": "py_adv_033",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "def typer(x: int, y: str) -> str:\n    return y * x\n\nresult = typer(3, 'ab')\nprint(result)",
      "options": [
        "ab ab ab",
        "ababab",
        "3ab",
        "TypeError"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1 : Type hints (annotations de types)\n‚Ä¢ x: int indique que x devrait √™tre un int\n‚Ä¢ y: str indique que y devrait √™tre une str\n‚Ä¢ -> str indique que la fonction retourne une str\n\nLigne 2 : y * x = 'ab' * 3 = 'ababab'\n\nLigne 4 : typer(3, 'ab') appelle la fonction\n\nR√©sultat : ababab\n\nüí° Les type hints sont informatifs, Python ne les v√©rifie pas √† l'ex√©cution",
      "highlightedLines": [1, 2],
      "xpGain": 20,
      "tags": ["type-hints", "annotations"],
      "category": "advanced"
    },
    {
      "id": "py_adv_034",
      "language": "python",
      "difficulty": 2,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "from abc import ABC, abstractmethod\n\nclass Forme(ABC):\n    @abstractmethod\n    def aire(self):\n        pass\n\nclass Carre(Forme):\n    def __init__(self, cote):\n        self.cote = cote\n    \n    def aire(self):\n        return self.cote ** 2\n\nc = Carre(4)\nprint(c.aire())",
      "options": [
        "4",
        "8",
        "16",
        "TypeError"
      ],
      "correctAnswer": 2,
      "explanation": "Ligne 1-6 : Classe abstraite Forme\n‚Ä¢ ABC = Abstract Base Class\n‚Ä¢ @abstractmethod rend aire() obligatoire\n‚Ä¢ On ne peut pas instancier Forme() directement\n\nLigne 8-13 : Carre h√©rite de Forme\n‚Ä¢ Impl√©mente la m√©thode abstraite aire()\n‚Ä¢ cote ** 2 = cote au carr√©\n\nLigne 15-16 : Carre(4).aire()\n‚Ä¢ 4 ** 2 = 16\n\nR√©sultat : 16\n\nüí° Les classes abstraites d√©finissent une interface que les sous-classes doivent impl√©menter",
      "highlightedLines": [4, 12, 13],
      "xpGain": 20,
      "tags": ["abc", "abstract", "inheritance"],
      "category": "advanced"
    },
    {
      "id": "py_adv_035",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Compteur:\n    count = 0\n    def __init__(self):\n        Compteur.count += 1\n\na = Compteur()\nb = Compteur()\nc = Compteur()\nprint(Compteur.count)",
      "options": [
        "0",
        "1",
        "3",
        "Erreur"
      ],
      "correctAnswer": 2,
      "explanation": "Ligne 2 : count = 0 est une variable de classe\n‚Ä¢ Elle est partag√©e par toutes les instances de Compteur\n\nLigne 3-4 : M√©thode __init__() appel√©e √† chaque cr√©ation\n‚Ä¢ Compteur.count += 1 incr√©mente la variable de classe\n\nCr√©ation des instances :\n‚Ä¢ a = Compteur() ‚Üí count = 1\n‚Ä¢ b = Compteur() ‚Üí count = 2\n‚Ä¢ c = Compteur() ‚Üí count = 3\n\nLigne 9 : print(Compteur.count) affiche 3\n\nüí° Une variable de classe est partag√©e entre toutes les instances",
      "highlightedLines": [2, 4],
      "xpGain": 30,
      "tags": ["classes", "class-variables", "instances"],
      "category": "advanced"
    },
    {
      "id": "py_adv_036",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "try:\n    x = int('abc')\nexcept ValueError:\n    x = 0\nexcept:\n    x = -1\nfinally:\n    x += 10\nprint(x)",
      "options": [
        "-1",
        "0",
        "10",
        "Erreur"
      ],
      "correctAnswer": 2,
      "explanation": "Ligne 2 : int('abc') g√©n√®re ValueError\n\nLigne 3-4 : except ValueError attrape l'erreur\n‚Ä¢ x = 0\n\nLigne 5-6 : Le except g√©n√©rique n'est PAS ex√©cut√©\n‚Ä¢ L'erreur a d√©j√† √©t√© attrap√©e\n\nLigne 7-8 : finally s'ex√©cute TOUJOURS\n‚Ä¢ x += 10 ‚Üí x = 0 + 10 = 10\n\nR√©sultat : 10\n\nüí° finally est utile pour nettoyer les ressources",
      "highlightedLines": [3, 4, 7, 8],
      "xpGain": 30,
      "tags": ["exceptions", "try-except", "finally"],
      "category": "advanced"
    },
    {
      "id": "py_adv_037",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "def mystere(lst=[]):\n    lst.append(1)\n    return lst\n\na = mystere()\nb = mystere()\nprint(len(b))",
      "options": [
        "1",
        "2",
        "0",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "‚ö†Ô∏è PI√àGE CLASSIQUE !\n\nLigne 1 : lst=[] est cr√©√© UNE SEULE FOIS\n‚Ä¢ Cette liste est partag√©e entre tous les appels\n\nLigne 5 : a = mystere()\n‚Ä¢ lst = [] ‚Üí append(1) ‚Üí lst = [1]\n‚Ä¢ a = [1]\n\nLigne 6 : b = mystere()\n‚Ä¢ lst est TOUJOURS [1] (partag√©)\n‚Ä¢ append(1) ‚Üí lst = [1, 1]\n‚Ä¢ b = [1, 1]\n\nLigne 7 : len(b) = 2\n\nR√©sultat : 2\n\nüí° Ne jamais utiliser de mutable comme valeur par d√©faut !",
      "highlightedLines": [1, 2, 5, 6],
      "xpGain": 30,
      "tags": ["functions", "mutable-defaults", "pitfall"],
      "category": "advanced"
    },
    {
      "id": "py_adv_038",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Meta(type):\n    def __new__(mcs, name, bases, dct):\n        dct['info'] = f'Classe {name}'\n        return super().__new__(mcs, name, bases, dct)\n\nclass MaClasse(metaclass=Meta):\n    pass\n\nprint(MaClasse.info)",
      "options": [
        "Classe MaClasse",
        "Meta",
        "MaClasse",
        "Erreur"
      ],
      "correctAnswer": 0,
      "explanation": "Ligne 1-4 : Meta est une m√©taclasse\n‚Ä¢ H√©rite de type\n‚Ä¢ __new__ est appel√© √† la cr√©ation de la classe\n‚Ä¢ Ajoute automatiquement l'attribut 'info'\n\nLigne 6-7 : MaClasse utilise Meta comme m√©taclasse\n‚Ä¢ metaclass=Meta indique la m√©taclasse\n‚Ä¢ Meta.__new__ s'ex√©cute avec name='MaClasse'\n‚Ä¢ dct['info'] = 'Classe MaClasse'\n\nLigne 9 : MaClasse.info = 'Classe MaClasse'\n\nR√©sultat : Classe MaClasse\n\nüí° Les m√©taclasses permettent de personnaliser la cr√©ation de classes",
      "highlightedLines": [3, 6, 9],
      "xpGain": 30,
      "tags": ["metaclasses", "type", "advanced"],
      "category": "advanced"
    },
    {
      "id": "py_adv_039",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Singleton:\n    _instance = None\n    \n    def __new__(cls):\n        if cls._instance is None:\n            cls._instance = super().__new__(cls)\n        return cls._instance\n\na = Singleton()\nb = Singleton()\nprint(a is b)",
      "options": [
        "True",
        "False",
        "None",
        "Erreur"
      ],
      "correctAnswer": 0,
      "explanation": "Pattern Singleton : une seule instance possible\n\nLigne 4-7 : __new__ contr√¥le la cr√©ation d'instance\n‚Ä¢ Si _instance est None, cr√©e une nouvelle instance\n‚Ä¢ Sinon, retourne l'instance existante\n\nLigne 9 : a = Singleton()\n‚Ä¢ _instance = None ‚Üí nouvelle instance cr√©√©e\n‚Ä¢ a = cette instance\n\nLigne 10 : b = Singleton()\n‚Ä¢ _instance existe d√©j√†\n‚Ä¢ b = la m√™me instance que a\n\nLigne 11 : a is b v√©rifie si c'est le m√™me objet\n‚Ä¢ True car a et b pointent vers la m√™me instance\n\nR√©sultat : True\n\nüí° Le Singleton garantit qu'une seule instance existe",
      "highlightedLines": [4, 5, 6, 11],
      "xpGain": 30,
      "tags": ["singleton", "design-pattern", "__new__"],
      "category": "advanced"
    },
    {
      "id": "py_adv_040",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "from contextlib import contextmanager\n\n@contextmanager\ndef gerer():\n    print('D√©but')\n    yield 'Valeur'\n    print('Fin')\n\nwith gerer() as v:\n    print(v)",
      "options": [
        "D√©but puis Valeur puis Fin",
        "Valeur puis D√©but puis Fin",
        "D√©but puis Fin puis Valeur",
        "Erreur"
      ],
      "correctAnswer": 0,
      "explanation": "Ligne 3-7 : @contextmanager cr√©e un context manager\n‚Ä¢ Code avant yield = __enter__\n‚Ä¢ yield = valeur retourn√©e au 'as'\n‚Ä¢ Code apr√®s yield = __exit__\n\nLigne 9 : with gerer() as v:\n1. print('D√©but') s'ex√©cute\n2. yield 'Valeur' ‚Üí v = 'Valeur'\n3. print(v) dans le bloc with\n4. print('Fin') s'ex√©cute √† la sortie\n\nOrdre : D√©but, Valeur, Fin\n\nR√©sultat : D√©but puis Valeur puis Fin\n\nüí° @contextmanager simplifie la cr√©ation de context managers",
      "highlightedLines": [5, 6, 7, 9, 10],
      "xpGain": 30,
      "tags": ["contextmanager", "contextlib", "with"],
      "category": "advanced"
    },
    {
      "id": "py_adv_041",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "free_input",
      "keyboardType": "numeric",
      "question": "Quelle valeur est affich√©e ?",
      "code": "class Vecteur:\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n    \n    def __mul__(self, other):\n        return self.x * other.x + self.y * other.y\n\na = Vecteur(3, 4)\nb = Vecteur(2, 1)\nprint(a * b)",
      "acceptedAnswers": ["10"],
      "explanation": "Produit scalaire de deux vecteurs\n\nLigne 6-7 : __mul__ surcharge l'op√©rateur *\n‚Ä¢ Calcule le produit scalaire : x1*x2 + y1*y2\n\nLigne 9-10 : a = (3, 4), b = (2, 1)\n\nLigne 11 : a * b appelle a.__mul__(b)\n‚Ä¢ 3 * 2 + 4 * 1 = 6 + 4 = 10\n\nR√©sultat : 10\n\nüí° __mul__ permet de d√©finir le comportement de *",
      "highlightedLines": [6, 7, 11],
      "xpGain": 30,
      "tags": ["classes", "__mul__", "operator-overloading"],
      "category": "advanced"
    },
    {
      "id": "py_adv_042",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Nombre:\n    def __init__(self, val):\n        self.val = val\n    \n    def __eq__(self, other):\n        return self.val == other.val\n    \n    def __hash__(self):\n        return hash(self.val)\n\na = Nombre(5)\nb = Nombre(5)\nprint(a == b, a is b)",
      "options": [
        "True True",
        "True False",
        "False True",
        "False False"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 5-6 : __eq__ d√©finit l'√©galit√© (==)\n‚Ä¢ Compare self.val et other.val\n\nLigne 8-9 : __hash__ permet l'utilisation dans dict/set\n\nLigne 11-12 : a et b ont le m√™me val mais sont diff√©rents objets\n\nLigne 13 : a == b ‚Üí a.__eq__(b)\n‚Ä¢ 5 == 5 ‚Üí True\n\na is b : v√©rifie si m√™me objet en m√©moire\n‚Ä¢ a et b sont deux objets distincts ‚Üí False\n\nR√©sultat : True False\n\nüí° == compare les valeurs, is compare les identit√©s",
      "highlightedLines": [5, 6, 13],
      "xpGain": 30,
      "tags": ["classes", "__eq__", "__hash__", "identity"],
      "category": "advanced"
    },
    {
      "id": "py_adv_043",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Descripteur:\n    def __get__(self, obj, objtype=None):\n        return 42\n    \n    def __set__(self, obj, value):\n        pass\n\nclass MaClasse:\n    attr = Descripteur()\n\nm = MaClasse()\nm.attr = 100\nprint(m.attr)",
      "options": [
        "100",
        "42",
        "None",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 1-6 : Descripteur avec __get__ et __set__\n‚Ä¢ __get__ retourne toujours 42\n‚Ä¢ __set__ ne fait rien (ignore l'assignation)\n\nLigne 8-9 : MaClasse utilise le descripteur\n‚Ä¢ attr = Descripteur() est un descripteur de classe\n\nLigne 11 : m = MaClasse()\n\nLigne 12 : m.attr = 100\n‚Ä¢ Appelle Descripteur.__set__(m, 100)\n‚Ä¢ Mais __set__ ne fait rien !\n\nLigne 13 : print(m.attr)\n‚Ä¢ Appelle Descripteur.__get__(m, MaClasse)\n‚Ä¢ Retourne 42\n\nR√©sultat : 42\n\nüí° Les descripteurs contr√¥lent l'acc√®s aux attributs",
      "highlightedLines": [2, 3, 12, 13],
      "xpGain": 30,
      "tags": ["descriptors", "__get__", "__set__"],
      "category": "advanced"
    },
    {
      "id": "py_adv_044",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "def raises(exc):\n    def decorator(func):\n        def wrapper(*args):\n            try:\n                return func(*args)\n            except exc:\n                return 'Erreur attrap√©e'\n        return wrapper\n    return decorator\n\n@raises(ValueError)\ndef convertir(x):\n    return int(x)\n\nprint(convertir('abc'))",
      "options": [
        "abc",
        "ValueError",
        "Erreur attrap√©e",
        "Le programme plante"
      ],
      "correctAnswer": 2,
      "explanation": "D√©corateur qui attrape une exception sp√©cifique\n\nLigne 1-9 : raises(exc) cr√©e un d√©corateur\n‚Ä¢ Ex√©cute func dans un try/except\n‚Ä¢ Attrape l'exception sp√©cifi√©e (exc)\n\nLigne 11-13 : @raises(ValueError) d√©core convertir\n‚Ä¢ Les ValueError seront attrap√©es\n\nLigne 15 : convertir('abc')\n‚Ä¢ int('abc') l√®ve ValueError\n‚Ä¢ Le d√©corateur attrape l'erreur\n‚Ä¢ Retourne 'Erreur attrap√©e'\n\nR√©sultat : Erreur attrap√©e\n\nüí° Les d√©corateurs peuvent modifier le comportement des exceptions",
      "highlightedLines": [6, 7, 11, 15],
      "xpGain": 30,
      "tags": ["decorators", "exceptions", "error-handling"],
      "category": "advanced"
    },
    {
      "id": "py_adv_045",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "from typing import Generic, TypeVar\n\nT = TypeVar('T')\n\nclass Boite(Generic[T]):\n    def __init__(self, contenu: T):\n        self.contenu = contenu\n\nb: Boite[int] = Boite(42)\nprint(type(b.contenu).__name__)",
      "options": [
        "T",
        "int",
        "Boite",
        "Generic"
      ],
      "correctAnswer": 1,
      "explanation": "Ligne 3 : TypeVar('T') cr√©e une variable de type g√©n√©rique\n\nLigne 5-7 : Boite est une classe g√©n√©rique\n‚Ä¢ Generic[T] permet de param√©trer le type\n‚Ä¢ Le type r√©el est d√©termin√© √† l'utilisation\n\nLigne 9 : b: Boite[int] = Boite(42)\n‚Ä¢ Annotation : b est une Boite d'entiers\n‚Ä¢ 42 est un int\n\nLigne 10 : type(b.contenu).__name__\n‚Ä¢ b.contenu = 42\n‚Ä¢ type(42) = int\n‚Ä¢ __name__ = 'int'\n\nR√©sultat : int\n\nüí° Les g√©n√©riques sont pour le type checking, pas l'ex√©cution",
      "highlightedLines": [5, 9, 10],
      "xpGain": 30,
      "tags": ["typing", "generics", "TypeVar"],
      "category": "advanced"
    },
    {
      "id": "py_adv_046",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class A:\n    def method(self):\n        return 'A'\n\nclass B(A):\n    def method(self):\n        return 'B'\n\nclass C(A):\n    def method(self):\n        return 'C'\n\nclass D(B, C):\n    pass\n\nd = D()\nprint(d.method())",
      "options": [
        "A",
        "B",
        "C",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "H√©ritage multiple et MRO (Method Resolution Order)\n\nLigne 13-14 : class D(B, C)\n‚Ä¢ D h√©rite de B et C\n‚Ä¢ Python utilise le MRO pour r√©soudre les conflits\n\nMRO de D : D ‚Üí B ‚Üí C ‚Üí A ‚Üí object\n‚Ä¢ D.mro() = [D, B, C, A, object]\n\nLigne 17 : d.method()\n‚Ä¢ D n'a pas de method()\n‚Ä¢ Cherche dans B ‚Üí trouv√© !\n‚Ä¢ Retourne 'B'\n\nR√©sultat : B\n\nüí° En h√©ritage multiple, l'ordre des parents compte (gauche √† droite)",
      "highlightedLines": [13, 17],
      "xpGain": 30,
      "tags": ["inheritance", "MRO", "multiple-inheritance"],
      "category": "advanced"
    },
    {
      "id": "py_adv_047",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "free_input",
      "keyboardType": "numeric",
      "question": "Combien de fois 'init' est affich√© ?",
      "code": "class Singleton:\n    _instance = None\n    \n    def __new__(cls):\n        if cls._instance is None:\n            print('init')\n            cls._instance = super().__new__(cls)\n        return cls._instance\n\na = Singleton()\nb = Singleton()\nc = Singleton()",
      "acceptedAnswers": ["1"],
      "explanation": "Pattern Singleton\n\nLigne 4-8 : __new__ contr√¥le la cr√©ation\n‚Ä¢ Ne cr√©e qu'une seule instance\n‚Ä¢ 'init' n'est affich√© que lors de la premi√®re cr√©ation\n\nLigne 10 : a = Singleton()\n‚Ä¢ _instance = None ‚Üí cr√©e instance\n‚Ä¢ print('init') ‚Üí affich√©\n\nLigne 11-12 : b et c = Singleton()\n‚Ä¢ _instance existe d√©j√†\n‚Ä¢ Pas de cr√©ation ‚Üí pas de print\n\nR√©sultat : 'init' est affich√© 1 fois\n\nüí° Le Singleton garantit qu'une seule instance est cr√©√©e",
      "highlightedLines": [5, 6, 10, 11, 12],
      "xpGain": 30,
      "tags": ["singleton", "__new__", "design-pattern"],
      "category": "advanced"
    },
    {
      "id": "py_adv_048",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Iter:\n    def __init__(self, max):\n        self.max = max\n        self.n = 0\n    \n    def __iter__(self):\n        return self\n    \n    def __next__(self):\n        if self.n >= self.max:\n            raise StopIteration\n        self.n += 1\n        return self.n\n\nprint(list(Iter(3)))",
      "options": [
        "[0, 1, 2]",
        "[1, 2, 3]",
        "[0, 1, 2, 3]",
        "Erreur"
      ],
      "correctAnswer": 1,
      "explanation": "Impl√©mentation d'un it√©rateur personnalis√©\n\nLigne 6-7 : __iter__ retourne self (l'objet est son propre it√©rateur)\n\nLigne 9-13 : __next__ produit les valeurs\n‚Ä¢ Incr√©mente n avant de retourner\n‚Ä¢ L√®ve StopIteration quand n >= max\n\nLigne 15 : list(Iter(3))\n‚Ä¢ Premier appel : n = 0 ‚Üí 1, retourne 1\n‚Ä¢ Deuxi√®me appel : n = 1 ‚Üí 2, retourne 2\n‚Ä¢ Troisi√®me appel : n = 2 ‚Üí 3, retourne 3\n‚Ä¢ Quatri√®me appel : n = 3 >= 3 ‚Üí StopIteration\n\nR√©sultat : [1, 2, 3]\n\nüí° __iter__ et __next__ font de l'objet un it√©rateur",
      "highlightedLines": [9, 10, 11, 12, 13],
      "xpGain": 30,
      "tags": ["iterators", "__iter__", "__next__"],
      "category": "advanced"
    },
    {
      "id": "py_adv_049",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "import sys\nfrom io import StringIO\n\nold_stdout = sys.stdout\nsys.stdout = StringIO()\n\nprint('Hello')\n\noutput = sys.stdout.getvalue()\nsys.stdout = old_stdout\n\nprint(len(output))",
      "options": [
        "5",
        "6",
        "0",
        "Hello"
      ],
      "correctAnswer": 1,
      "explanation": "Redirection de stdout\n\nLigne 4-5 : Redirige stdout vers StringIO\n‚Ä¢ Les print() iront dans le buffer au lieu de la console\n\nLigne 7 : print('Hello')\n‚Ä¢ √âcrit 'Hello\\n' dans StringIO (print ajoute \\n)\n\nLigne 9 : output = sys.stdout.getvalue()\n‚Ä¢ R√©cup√®re 'Hello\\n' (6 caract√®res)\n\nLigne 10 : Restaure stdout normal\n\nLigne 12 : len(output) = len('Hello\\n') = 6\n\nR√©sultat : 6\n\nüí° print() ajoute automatiquement un retour √† la ligne",
      "highlightedLines": [5, 7, 9, 12],
      "xpGain": 30,
      "tags": ["io", "stdout", "StringIO"],
      "category": "advanced"
    },
    {
      "id": "py_adv_050",
      "language": "python",
      "difficulty": 3,
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce programme ?",
      "code": "class Cached:\n    def __init__(self, func):\n        self.func = func\n        self.cache = {}\n    \n    def __call__(self, *args):\n        if args not in self.cache:\n            self.cache[args] = self.func(*args)\n        return self.cache[args]\n\n@Cached\ndef fib(n):\n    return n if n < 2 else fib(n-1) + fib(n-2)\n\nprint(fib(10))",
      "options": [
        "10",
        "34",
        "55",
        "89"
      ],
      "correctAnswer": 2,
      "explanation": "D√©corateur de classe pour m√©mo√Øsation\n\nLigne 1-9 : Classe Cached comme d√©corateur\n‚Ä¢ __init__ stocke la fonction\n‚Ä¢ __call__ impl√©mente le caching\n‚Ä¢ Les r√©sultats sont mis en cache dans self.cache\n\nLigne 11-13 : @Cached sur fib\n‚Ä¢ fib devient une instance de Cached\n‚Ä¢ fib(n) appelle Cached.__call__(n)\n\nLigne 15 : fib(10)\n‚Ä¢ Suite de Fibonacci : 0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55\n‚Ä¢ fib(10) = 55\n\nR√©sultat : 55\n\nüí° Une classe peut servir de d√©corateur si elle a __call__",
      "highlightedLines": [6, 7, 8, 11, 15],
      "xpGain": 30,
      "tags": ["decorators", "class-decorator", "memoization"],
      "category": "advanced"
    }
  ]
}
