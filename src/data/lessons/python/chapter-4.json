{
  "chapterId": "py_ch_004",
  "title": "Listes & M√©thodes",
  "subtitle": "Manipule des collections de donn√©es avec les listes Python",
  "sections": [
    {
      "id": "section_1",
      "type": "text",
      "title": "Qu'est-ce qu'une liste ?",
      "content": "Une **liste** est une collection ordonn√©e d'√©l√©ments. C'est comme un tiroir avec plusieurs compartiments : tu peux stocker plusieurs valeurs dans une seule variable !\n\nLes listes sont **mutables** : tu peux les modifier apr√®s leur cr√©ation (ajouter, supprimer, modifier des √©l√©ments)."
    },
    {
      "id": "section_2",
      "type": "code_example",
      "language": "python",
      "code": "# Cr√©er une liste\nfruits = [\"pomme\", \"banane\", \"orange\"]\nnombres = [1, 2, 3, 4, 5]\nmixte = [\"Python\", 42, True, 3.14]\n\nprint(fruits)  # ['pomme', 'banane', 'orange']",
      "caption": "Cr√©er des listes avec des crochets []",
      "highlight": {
        "style": "info",
        "content": "üí° **Astuce** : Une liste peut contenir **n'importe quel type** de donn√©es, et m√™me m√©langer les types !"
      }
    },
    {
      "id": "section_3",
      "type": "exercise",
      "exerciseId": "py_ch4_ex1"
    },
    {
      "id": "section_4",
      "type": "text",
      "title": "Acc√©der aux √©l√©ments (indexing)",
      "content": "Chaque √©l√©ment d'une liste a un **index** (position). En Python, les index commencent √† **0** !\n\n‚Ä¢ Premier √©l√©ment : index `0`\n‚Ä¢ Deuxi√®me √©l√©ment : index `1`\n‚Ä¢ Dernier √©l√©ment : index `-1` (index n√©gatif = partir de la fin)"
    },
    {
      "id": "section_5",
      "type": "code_example",
      "language": "python",
      "code": "fruits = [\"pomme\", \"banane\", \"orange\", \"kiwi\"]\n\nprint(fruits[0])   # pomme (premier)\nprint(fruits[2])   # orange (troisi√®me)\nprint(fruits[-1])  # kiwi (dernier)\nprint(fruits[-2])  # orange (avant-dernier)",
      "caption": "Acc√©der aux √©l√©ments par index",
      "highlight": {
        "style": "warning",
        "content": "‚ö†Ô∏è **Attention** : Si tu essaies d'acc√©der √† un index qui n'existe pas (ex: `fruits[10]`), Python l√®ve une erreur `IndexError` !"
      }
    },
    {
      "id": "section_6",
      "type": "exercise",
      "exerciseId": "py_ch4_ex2"
    },
    {
      "id": "section_7",
      "type": "text",
      "title": "Le slicing (d√©couper des listes)",
      "content": "Le **slicing** permet d'extraire une **portion** d'une liste. La syntaxe est `liste[debut:fin]` (fin non incluse).\n\nTu peux aussi omettre le d√©but ou la fin pour aller jusqu'au bout !"
    },
    {
      "id": "section_8",
      "type": "code_example",
      "language": "python",
      "code": "nombres = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n\nprint(nombres[2:5])   # [2, 3, 4]\nprint(nombres[:3])    # [0, 1, 2] (du d√©but √† 3)\nprint(nombres[7:])    # [7, 8, 9] (de 7 √† la fin)\nprint(nombres[-3:])   # [7, 8, 9] (3 derniers)\nprint(nombres[::2])   # [0, 2, 4, 6, 8] (tous les 2)",
      "caption": "D√©couper une liste avec le slicing",
      "highlight": {
        "style": "success",
        "content": "‚úÖ **Cas d'usage r√©el** : Le slicing est ultra utilis√© pour extraire des plages de donn√©es (ex: les 10 premiers r√©sultats d'une recherche)."
      }
    },
    {
      "id": "section_9",
      "type": "exercise",
      "exerciseId": "py_ch4_ex3"
    },
    {
      "id": "section_10",
      "type": "text",
      "title": "Ajouter des √©l√©ments : append() et insert()",
      "content": "Pour **ajouter** des √©l√©ments √† une liste, tu as plusieurs m√©thodes :\n\n‚Ä¢ `append(element)` : ajoute √† la **fin** de la liste\n‚Ä¢ `insert(index, element)` : ins√®re √† une **position pr√©cise**"
    },
    {
      "id": "section_11",
      "type": "code_example",
      "language": "python",
      "code": "fruits = [\"pomme\", \"banane\"]\n\n# Ajouter √† la fin\nfruits.append(\"orange\")\nprint(fruits)  # ['pomme', 'banane', 'orange']\n\n# Ins√©rer √† l'index 1\nfruits.insert(1, \"kiwi\")\nprint(fruits)  # ['pomme', 'kiwi', 'banane', 'orange']",
      "caption": "Ajouter des √©l√©ments avec append() et insert()",
      "highlight": {
        "style": "info",
        "content": "üí° **Astuce** : `append()` est plus rapide que `insert()`. Pr√©f√®re `append()` si tu veux juste ajouter √† la fin !"
      }
    },
    {
      "id": "section_12",
      "type": "exercise",
      "exerciseId": "py_ch4_ex4"
    },
    {
      "id": "section_13",
      "type": "text",
      "title": "Supprimer des √©l√©ments : remove() et pop()",
      "content": "Pour **supprimer** des √©l√©ments, tu as le choix entre :\n\n‚Ä¢ `remove(element)` : supprime la **premi√®re occurrence** de l'√©l√©ment\n‚Ä¢ `pop(index)` : supprime l'√©l√©ment √† l'index donn√© et le **retourne**\n‚Ä¢ `pop()` : supprime le **dernier** √©l√©ment (par d√©faut)"
    },
    {
      "id": "section_14",
      "type": "code_example",
      "language": "python",
      "code": "fruits = [\"pomme\", \"banane\", \"orange\", \"banane\"]\n\n# Supprimer par valeur (premi√®re occurrence)\nfruits.remove(\"banane\")\nprint(fruits)  # ['pomme', 'orange', 'banane']\n\n# Supprimer par index et r√©cup√©rer la valeur\ndernier = fruits.pop()\nprint(dernier)  # banane\nprint(fruits)   # ['pomme', 'orange']",
      "caption": "Supprimer des √©l√©ments avec remove() et pop()",
      "highlight": {
        "style": "error",
        "content": "üö® **Pi√®ge courant** : `remove()` l√®ve une erreur si l'√©l√©ment n'existe pas ! V√©rifie avec `if element in liste:` avant de supprimer."
      }
    },
    {
      "id": "section_15",
      "type": "text",
      "title": "M√©thodes utiles : len(), sort(), reverse()",
      "content": "Python propose plein de m√©thodes pratiques pour manipuler les listes :\n\n‚Ä¢ `len(liste)` : nombre d'√©l√©ments\n‚Ä¢ `liste.sort()` : trie la liste (modifie la liste originale)\n‚Ä¢ `liste.reverse()` : inverse l'ordre\n‚Ä¢ `element in liste` : v√©rifie si un √©l√©ment est pr√©sent"
    },
    {
      "id": "section_16",
      "type": "code_example",
      "language": "python",
      "code": "nombres = [3, 1, 4, 1, 5, 9]\n\n# Longueur\nprint(len(nombres))  # 6\n\n# Trier\nnombres.sort()\nprint(nombres)  # [1, 1, 3, 4, 5, 9]\n\n# Inverser\nnombres.reverse()\nprint(nombres)  # [9, 5, 4, 3, 1, 1]\n\n# V√©rifier pr√©sence\nprint(5 in nombres)  # True",
      "caption": "M√©thodes courantes sur les listes",
      "highlight": {
        "style": "warning",
        "content": "‚ö†Ô∏è **Attention** : `sort()` et `reverse()` modifient la liste **en place**. Si tu veux garder l'originale, fais d'abord une copie : `nouvelle = liste.copy()`."
      }
    },
    {
      "id": "section_17",
      "type": "exercise",
      "exerciseId": "py_ch4_ex5"
    },
    {
      "id": "section_18",
      "type": "text",
      "title": "Anatomie d'un code : Gestion d'une todo list",
      "content": "Voici un exemple concret qui combine tout ce que tu as appris. Lis ce code ligne par ligne et essaie de comprendre ce qu'il fait :"
    },
    {
      "id": "section_19",
      "type": "code_example",
      "language": "python",
      "code": "# Gestion d'une todo list\ntaches = [\"R√©viser\", \"Faire du sport\", \"Lire\"]\n\n# Ajouter une t√¢che\ntaches.append(\"Coder\")\n\n# Terminer la premi√®re t√¢che\ntache_terminee = taches.pop(0)\nprint(f\"Termin√© : {tache_terminee}\")\n\n# Afficher les t√¢ches restantes\nprint(f\"Il reste {len(taches)} t√¢ches\")\nfor i, tache in enumerate(taches):\n    print(f\"{i+1}. {tache}\")",
      "caption": "Exemple r√©el : g√©rer une liste de t√¢ches",
      "highlight": {
        "style": "success",
        "content": "‚úÖ **D√©cortiquons le code** :\n\nLigne 2 : Cr√©ation liste initiale\nLigne 5 : Ajout d'une nouvelle t√¢che\nLigne 8 : Suppression ET r√©cup√©ration de la 1√®re t√¢che\nLigne 12-13 : Parcours avec num√©rotation automatique"
      }
    },
    {
      "id": "section_20",
      "type": "exercise",
      "exerciseId": "py_ch4_ex6"
    },
    {
      "id": "section_21",
      "type": "text",
      "title": "R√©capitulatif",
      "content": "üéØ **Ce que tu as appris :**\n\n‚Ä¢ Cr√©er des listes avec `[]`\n‚Ä¢ Acc√©der aux √©l√©ments par index (positif ou n√©gatif)\n‚Ä¢ D√©couper des listes avec le **slicing** `[debut:fin]`\n‚Ä¢ Ajouter des √©l√©ments avec `append()` et `insert()`\n‚Ä¢ Supprimer avec `remove()` et `pop()`\n‚Ä¢ Utiliser `len()`, `sort()`, `reverse()`, `in`\n\n**Prochaine √©tape :** Tu vas d√©couvrir les **dictionnaires**, parfaits pour stocker des donn√©es avec des cl√©s (comme un annuaire) !"
    }
  ],
  "exercises": [
    {
      "id": "py_ch4_ex1",
      "type": "predict_output",
      "inputType": "free_input",
      "question": "Combien d'√©l√©ments contient cette liste ?",
      "code": "ma_liste = [10, 20, 30, 40, 50]\nprint(len(ma_liste))",
      "predefinedAnswers": ["3", "4", "5", "6"],
      "correctAnswer": "5",
      "explanation": "La liste contient 5 √©l√©ments (10, 20, 30, 40, 50). La fonction `len()` renvoie donc **5**.",
      "highlightedLines": [1],
      "xpGain": 10
    },
    {
      "id": "py_ch4_ex2",
      "type": "predict_output",
      "inputType": "options",
      "question": "Que va afficher ce code ?",
      "code": "animaux = [\"chat\", \"chien\", \"oiseau\"]\nprint(animaux[1])",
      "options": ["chat", "chien", "oiseau", "Erreur"],
      "correctAnswer": 1,
      "explanation": "Les index commencent √† 0 en Python. L'index 1 correspond au **deuxi√®me** √©l√©ment, donc **chien**.",
      "highlightedLines": [2],
      "xpGain": 10
    },
    {
      "id": "py_ch4_ex3",
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce slicing ?",
      "code": "nombres = [0, 1, 2, 3, 4, 5]\nresultat = nombres[1:4]\nprint(resultat)",
      "options": ["[0, 1, 2, 3]", "[1, 2, 3]", "[1, 2, 3, 4]", "[2, 3, 4]"],
      "correctAnswer": 1,
      "explanation": "Le slicing `[1:4]` extrait les √©l√©ments de l'index 1 (inclus) √† 4 (**exclus**). R√©sultat : **[1, 2, 3]**.",
      "highlightedLines": [2],
      "xpGain": 10
    },
    {
      "id": "py_ch4_ex4",
      "type": "trace_execution",
      "inputType": "free_input",
      "question": "Combien d'√©l√©ments contient la liste apr√®s ces op√©rations ?",
      "code": "fruits = [\"pomme\", \"banane\"]\nfruits.append(\"orange\")\nfruits.append(\"kiwi\")\nprint(len(fruits))",
      "predefinedAnswers": ["2", "3", "4", "5"],
      "correctAnswer": "4",
      "explanation": "On part de 2 √©l√©ments, puis on ajoute 2 fois avec `append()`. R√©sultat : **4 √©l√©ments** (pomme, banane, orange, kiwi).",
      "highlightedLines": [2, 3],
      "xpGain": 10
    },
    {
      "id": "py_ch4_ex5",
      "type": "predict_output",
      "inputType": "options",
      "question": "Que va afficher ce programme ?",
      "code": "nombres = [5, 2, 8, 1]\nnombres.sort()\nprint(nombres[0])",
      "options": ["1", "2", "5", "8"],
      "correctAnswer": 0,
      "explanation": "La m√©thode `sort()` trie la liste en ordre croissant : [1, 2, 5, 8]. Le premier √©l√©ment (index 0) est donc **1**.",
      "highlightedLines": [2, 3],
      "xpGain": 10
    },
    {
      "id": "py_ch4_ex6",
      "type": "find_error",
      "inputType": "clickable_lines",
      "question": "Ce code devrait supprimer \"banane\" mais il plante. Quelle ligne contient l'erreur ?",
      "code": "fruits = [\"pomme\", \"orange\", \"kiwi\"]\nfruits.remove(\"banane\")\nprint(fruits)",
      "correctAnswer": 1,
      "explanation": "Ligne 2 : `remove()` cherche \"banane\" dans la liste mais ne le trouve pas. Cela l√®ve une **ValueError**. Il faut d'abord v√©rifier avec `if \"banane\" in fruits:`.",
      "highlightedLines": [2],
      "xpGain": 10
    }
  ]
}
