{
  "chapterId": "py_ch_003",
  "title": "Boucles & It√©rations",
  "subtitle": "Ma√Ætrise les boucles for et while pour r√©p√©ter des actions",
  "sections": [
    {
      "id": "section_1",
      "type": "text",
      "title": "Introduction aux boucles",
      "content": "Les **boucles** permettent de r√©p√©ter des instructions plusieurs fois automatiquement. En Python, on utilise principalement deux types de boucles : **for** (pour un nombre d√©fini d'it√©rations) et **while** (tant qu'une condition est vraie).\n\nC'est l'outil parfait quand tu dois faire la m√™me action plusieurs fois sans copier-coller ton code !"
    },
    {
      "id": "section_2",
      "type": "code_example",
      "language": "python",
      "code": "# Exemple : Afficher 5 fois \"Hello\"\nfor i in range(5):\n    print(\"Hello\")\n\n# Sortie :\n# Hello\n# Hello\n# Hello\n# Hello\n# Hello",
      "caption": "La boucle for avec range() r√©p√®te le code 5 fois"
    },
    {
      "id": "section_3",
      "type": "highlight",
      "style": "info",
      "content": "üí° **Astuce** : `range(5)` g√©n√®re les nombres de 0 √† 4 (5 nombres au total). La variable `i` prend ces valeurs successivement √† chaque tour de boucle."
    },
    {
      "id": "section_4",
      "type": "exercise",
      "exerciseId": "py_ch3_ex1"
    },
    {
      "id": "section_5",
      "type": "text",
      "title": "La fonction range() en d√©tail",
      "content": "La fonction `range()` est ultra puissante ! Elle peut prendre 3 param√®tres :\n\n‚Ä¢ `range(stop)` : de 0 √† stop-1\n‚Ä¢ `range(start, stop)` : de start √† stop-1\n‚Ä¢ `range(start, stop, step)` : de start √† stop-1 avec un pas\n\nExemples concrets :"
    },
    {
      "id": "section_6",
      "type": "code_example",
      "language": "python",
      "code": "# Compter de 1 √† 5\nfor i in range(1, 6):\n    print(i)  # 1, 2, 3, 4, 5\n\n# Compter de 2 en 2\nfor i in range(0, 10, 2):\n    print(i)  # 0, 2, 4, 6, 8\n\n# Compter √† l'envers\nfor i in range(10, 0, -1):\n    print(i)  # 10, 9, 8, ..., 1",
      "caption": "Diff√©rentes fa√ßons d'utiliser range()"
    },
    {
      "id": "section_7",
      "type": "exercise",
      "exerciseId": "py_ch3_ex2"
    },
    {
      "id": "section_8",
      "type": "text",
      "title": "Parcourir une liste avec for",
      "content": "La boucle `for` est parfaite pour parcourir tous les √©l√©ments d'une liste. Tu peux acc√©der directement √† chaque √©l√©ment sans utiliser d'index :"
    },
    {
      "id": "section_9",
      "type": "code_example",
      "language": "python",
      "code": "fruits = [\"pomme\", \"banane\", \"orange\"]\n\n# Parcourir directement les √©l√©ments\nfor fruit in fruits:\n    print(f\"J'aime les {fruit}s\")\n\n# Sortie :\n# J'aime les pommes\n# J'aime les bananes\n# J'aime les oranges",
      "caption": "Parcourir une liste sans index"
    },
    {
      "id": "section_10",
      "type": "highlight",
      "style": "warning",
      "content": "‚ö†Ô∏è **Attention** : Si tu as besoin de l'index ET de l'√©l√©ment, utilise `enumerate()` :\n\n```python\nfor index, fruit in enumerate(fruits):\n    print(f\"{index}: {fruit}\")\n```"
    },
    {
      "id": "section_11",
      "type": "exercise",
      "exerciseId": "py_ch3_ex3"
    },
    {
      "id": "section_12",
      "type": "text",
      "title": "La boucle while",
      "content": "La boucle `while` r√©p√®te des instructions **tant qu'une condition est vraie**. Contrairement √† `for`, on ne sait pas √† l'avance combien de fois elle va tourner.\n\nC'est utile quand tu attends qu'un √©v√©nement se produise !"
    },
    {
      "id": "section_13",
      "type": "code_example",
      "language": "python",
      "code": "# Exemple : Compter jusqu'√† 3\ncompteur = 0\n\nwhile compteur < 3:\n    print(f\"Compteur : {compteur}\")\n    compteur += 1  # IMPORTANT : incr√©menter !\n\nprint(\"Fini !\")\n\n# Sortie :\n# Compteur : 0\n# Compteur : 1\n# Compteur : 2\n# Fini !",
      "caption": "Une boucle while simple"
    },
    {
      "id": "section_14",
      "type": "highlight",
      "style": "error",
      "content": "üö® **Pi√®ge courant** : Si tu oublies d'incr√©menter `compteur`, la boucle tourne **√† l'infini** ! Assure-toi que ta condition devient fausse √† un moment donn√©."
    },
    {
      "id": "section_15",
      "type": "exercise",
      "exerciseId": "py_ch3_ex4"
    },
    {
      "id": "section_16",
      "type": "text",
      "title": "Break et Continue",
      "content": "Deux mots-cl√©s puissants pour contr√¥ler tes boucles :\n\n‚Ä¢ **`break`** : Arr√™te compl√®tement la boucle\n‚Ä¢ **`continue`** : Saute l'it√©ration actuelle et passe √† la suivante\n\nExemples pratiques :"
    },
    {
      "id": "section_17",
      "type": "code_example",
      "language": "python",
      "code": "# break : Arr√™ter la boucle\nfor i in range(10):\n    if i == 5:\n        break  # Stop d√®s que i vaut 5\n    print(i)  # 0, 1, 2, 3, 4\n\n# continue : Sauter une it√©ration\nfor i in range(5):\n    if i == 2:\n        continue  # Saute 2\n    print(i)  # 0, 1, 3, 4",
      "caption": "break vs continue"
    },
    {
      "id": "section_18",
      "type": "highlight",
      "style": "success",
      "content": "‚úÖ **Cas d'usage r√©el** : `break` est super pour chercher un √©l√©ment dans une liste. D√®s que tu le trouves, pas besoin de continuer !\n\n```python\nfor nombre in [1, 5, 8, 12, 3]:\n    if nombre > 10:\n        print(f\"Trouv√© : {nombre}\")\n        break\n```"
    },
    {
      "id": "section_19",
      "type": "exercise",
      "exerciseId": "py_ch3_ex5"
    },
    {
      "id": "section_20",
      "type": "text",
      "title": "R√©capitulatif",
      "content": "üéØ **Ce que tu as appris :**\n\n‚Ä¢ Utiliser `for` avec `range()` pour r√©p√©ter du code N fois\n‚Ä¢ Parcourir des listes avec `for element in liste`\n‚Ä¢ Utiliser `while` pour des boucles conditionnelles\n‚Ä¢ Contr√¥ler les boucles avec `break` et `continue`\n\n**Prochaine √©tape :** Tu vas maintenant pouvoir manipuler des collections de donn√©es avec les listes dans le prochain chapitre !"
    }
  ],
  "exercises": [
    {
      "id": "py_ch3_ex1",
      "type": "predict_output",
      "inputType": "free_input",
      "question": "Combien de fois \"Python\" est affich√© ?",
      "code": "for i in range(3):\n    print(\"Python\")",
      "predefinedAnswers": ["1", "2", "3", "4", "5"],
      "correctAnswer": "3",
      "explanation": "La fonction `range(3)` g√©n√®re 3 nombres (0, 1, 2). La boucle tourne donc 3 fois, et affiche \"Python\" 3 fois.",
      "highlightedLines": [1],
      "xpGain": 10
    },
    {
      "id": "py_ch3_ex2",
      "type": "predict_output",
      "inputType": "options",
      "question": "Quelle est la derni√®re valeur affich√©e ?",
      "code": "for i in range(2, 8, 2):\n    print(i)",
      "options": ["4", "6", "8", "10"],
      "correctAnswer": 1,
      "explanation": "`range(2, 8, 2)` g√©n√®re : 2, 4, 6. Le 8 n'est pas inclus (stop-1). Donc la derni√®re valeur est **6**.",
      "highlightedLines": [1],
      "xpGain": 10
    },
    {
      "id": "py_ch3_ex3",
      "type": "predict_output",
      "inputType": "options",
      "question": "Que renvoie ce code ?",
      "code": "animaux = [\"chat\", \"chien\", \"oiseau\"]\nfor animal in animaux:\n    if animal == \"chien\":\n        print(\"Trouv√©\")",
      "options": ["Trouv√©", "Trouv√© Trouv√© Trouv√©", "chat chien oiseau", "Rien"],
      "correctAnswer": 0,
      "explanation": "La boucle parcourt la liste. Seul \"chien\" correspond √† la condition `if`, donc `print(\"Trouv√©\")` s'ex√©cute **une seule fois**.",
      "highlightedLines": [2, 3, 4],
      "xpGain": 10
    },
    {
      "id": "py_ch3_ex4",
      "type": "find_error",
      "inputType": "clickable_lines",
      "question": "Ce code devrait compter de 0 √† 2, mais il boucle infiniment. Sur quelle ligne se trouve l'erreur ?",
      "code": "n = 0\nwhile n < 3:\n    print(n)",
      "correctAnswer": 2,
      "explanation": "Il manque l'incr√©mentation `n += 1` apr√®s le `print(n)`. Sans cette ligne, `n` reste toujours √† 0, la condition `n < 3` est toujours vraie, et la boucle tourne √† l'infini !",
      "highlightedLines": [3],
      "xpGain": 10
    },
    {
      "id": "py_ch3_ex5",
      "type": "trace_execution",
      "inputType": "free_input",
      "question": "Combien de fois \"OK\" est affich√© ?",
      "code": "for i in range(5):\n    if i == 2:\n        continue\n    print(\"OK\")",
      "predefinedAnswers": ["0", "1", "2", "3", "4", "5"],
      "correctAnswer": "4",
      "explanation": "La boucle tourne 5 fois (i = 0, 1, 2, 3, 4). Quand i vaut 2, `continue` saute le `print()`. Donc \"OK\" est affich√© **4 fois** (pour i = 0, 1, 3, 4).",
      "highlightedLines": [2, 3],
      "xpGain": 10
    }
  ]
}
