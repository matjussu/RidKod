{
  "chapterId": "py_ch_006",
  "title": "Strings & Manipulation",
  "subtitle": "Ma√Ætrise le traitement de texte en Python",
  "sections": [
    {
      "id": "section_1",
      "type": "text",
      "title": "Les cha√Ænes de caract√®res (strings)",
      "content": "Les **cha√Ænes** (strings) sont des s√©quences de caract√®res utilis√©es pour repr√©senter du texte. En Python, tu peux cr√©er une cha√Æne avec des guillemets simples `'...'` ou doubles `\"...\"`.\n\nLes cha√Ænes sont **immuables** : tu ne peux pas modifier un caract√®re individuel, mais tu peux cr√©er de nouvelles cha√Ænes !"
    },
    {
      "id": "section_2",
      "type": "code_example",
      "language": "python",
      "code": "# Guillemets simples ou doubles\nmessage1 = 'Bonjour'\nmessage2 = \"Python\"\n\n# Cha√Ænes multilignes avec triple guillemets\ntexte_long = \"\"\"Ceci est\nun texte\nsur plusieurs lignes\"\"\"\n\nprint(message1, message2)",
      "caption": "Cr√©er des cha√Ænes de caract√®res",
      "highlight": {
        "style": "info",
        "content": "üí° **Astuce** : Utilise des guillemets simples ou doubles selon ton besoin. Si ton texte contient des apostrophes, pr√©f√®re les doubles : `\"C'est facile\"`."
      }
    },
    {
      "id": "section_3",
      "type": "exercise",
      "exerciseId": "py_ch6_ex1"
    },
    {
      "id": "section_4",
      "type": "text",
      "title": "Concat√©nation et r√©p√©tition",
      "content": "Tu peux **assembler** des cha√Ænes avec l'op√©rateur `+` (concat√©nation) et les **r√©p√©ter** avec `*` :"
    },
    {
      "id": "section_5",
      "type": "code_example",
      "language": "python",
      "code": "# Concat√©nation\nprenom = \"Alice\"\nnom = \"Dupont\"\nnom_complet = prenom + \" \" + nom\nprint(nom_complet)  # Alice Dupont\n\n# R√©p√©tition\nseparateur = \"-\" * 10\nprint(separateur)  # ----------",
      "caption": "Assembler et r√©p√©ter des cha√Ænes",
      "highlight": {
        "style": "warning",
        "content": "‚ö†Ô∏è **Attention** : Tu ne peux pas concat√©ner une cha√Æne avec un nombre directement !\n\n```python\nage = 25\nprint(\"J'ai \" + age)  # ERREUR !\n```\n\nIl faut convertir : `\"J'ai \" + str(age)`"
      }
    },
    {
      "id": "section_6",
      "type": "exercise",
      "exerciseId": "py_ch6_ex2"
    },
    {
      "id": "section_7",
      "type": "text",
      "title": "Les f-strings (formatage moderne)",
      "content": "Les **f-strings** (f = format) permettent d'ins√©rer des variables directement dans une cha√Æne. C'est la m√©thode **la plus lisible** et moderne en Python !\n\nSyntaxe : `f\"texte {variable} texte\"`"
    },
    {
      "id": "section_8",
      "type": "code_example",
      "language": "python",
      "code": "nom = \"Bob\"\nage = 30\n\n# Avec f-string (recommand√©)\nmessage = f\"Je m'appelle {nom} et j'ai {age} ans\"\nprint(message)\n\n# Tu peux faire des calculs dans les accolades\nprix = 19.99\nprint(f\"Total : {prix * 2}‚Ç¨\")  # Total : 39.98‚Ç¨",
      "caption": "Formater des cha√Ænes avec f-strings",
      "highlight": {
        "style": "success",
        "content": "‚úÖ **Bonne pratique** : Utilise **toujours** les f-strings plut√¥t que la concat√©nation `+`. C'est plus lisible et moins sujet aux erreurs !"
      }
    },
    {
      "id": "section_9",
      "type": "exercise",
      "exerciseId": "py_ch6_ex3"
    },
    {
      "id": "section_10",
      "type": "text",
      "title": "M√©thodes courantes : upper(), lower(), strip()",
      "content": "Python propose des m√©thodes tr√®s utiles pour manipuler le texte :\n\n‚Ä¢ `str.upper()` : convertit en MAJUSCULES\n‚Ä¢ `str.lower()` : convertit en minuscules\n‚Ä¢ `str.strip()` : supprime les espaces au d√©but et √† la fin\n‚Ä¢ `str.replace(ancien, nouveau)` : remplace du texte"
    },
    {
      "id": "section_11",
      "type": "code_example",
      "language": "python",
      "code": "texte = \"  Hello Python  \"\n\nprint(texte.upper())      # \"  HELLO PYTHON  \"\nprint(texte.lower())      # \"  hello python  \"\nprint(texte.strip())      # \"Hello Python\"\nprint(texte.replace(\"Python\", \"World\"))  # \"  Hello World  \"",
      "caption": "Transformer des cha√Ænes avec les m√©thodes",
      "highlight": {
        "style": "info",
        "content": "üí° **Astuce** : Ces m√©thodes ne modifient **pas** la cha√Æne originale (les strings sont immuables). Elles renvoient une **nouvelle cha√Æne**."
      }
    },
    {
      "id": "section_12",
      "type": "text",
      "title": "D√©couper et joindre : split() et join()",
      "content": "Deux m√©thodes super puissantes pour traiter du texte :\n\n‚Ä¢ `str.split(separateur)` : d√©coupe une cha√Æne en **liste**\n‚Ä¢ `separateur.join(liste)` : assemble une liste en **cha√Æne**"
    },
    {
      "id": "section_13",
      "type": "code_example",
      "language": "python",
      "code": "# split() : cha√Æne ‚Üí liste\nphrase = \"Python est g√©nial\"\nmots = phrase.split(\" \")\nprint(mots)  # ['Python', 'est', 'g√©nial']\n\n# join() : liste ‚Üí cha√Æne\nlangages = [\"Python\", \"Java\", \"C++\"]\nresultat = \", \".join(langages)\nprint(resultat)  # \"Python, Java, C++\"",
      "caption": "D√©couper et joindre du texte",
      "highlight": {
        "style": "success",
        "content": "‚úÖ **Cas d'usage r√©el** : `split()` est parfait pour parser des donn√©es CSV, des logs, ou des commandes utilisateur."
      }
    },
    {
      "id": "section_14",
      "type": "exercise",
      "exerciseId": "py_ch6_ex4"
    },
    {
      "id": "section_15",
      "type": "text",
      "title": "V√©rifier le contenu : startswith(), endswith(), in",
      "content": "Pour v√©rifier le contenu d'une cha√Æne :\n\n‚Ä¢ `str.startswith(prefixe)` : commence par...\n‚Ä¢ `str.endswith(suffixe)` : se termine par...\n‚Ä¢ `sous_chaine in str` : contient..."
    },
    {
      "id": "section_16",
      "type": "code_example",
      "language": "python",
      "code": "fichier = \"document.pdf\"\n\nprint(fichier.startswith(\"doc\"))    # True\nprint(fichier.endswith(\".pdf\"))     # True\nprint(\"ument\" in fichier)           # True\nprint(\"txt\" in fichier)             # False",
      "caption": "V√©rifier le contenu d'une cha√Æne",
      "highlight": {
        "style": "warning",
        "content": "‚ö†Ô∏è **Attention** : Ces m√©thodes sont **sensibles √† la casse** (majuscules/minuscules). `\"PDF\"` ‚â† `\"pdf\"`. Utilise `.lower()` pour ignorer la casse."
      }
    },
    {
      "id": "section_17",
      "type": "exercise",
      "exerciseId": "py_ch6_ex5"
    },
    {
      "id": "section_18",
      "type": "text",
      "title": "R√©capitulatif",
      "content": "üéØ **Ce que tu as appris :**\n\n‚Ä¢ Cr√©er des cha√Ænes avec `\"...\"` ou `'...'`\n‚Ä¢ Concat√©ner avec `+` et r√©p√©ter avec `*`\n‚Ä¢ Formater avec **f-strings** `f\"texte {var}\"`\n‚Ä¢ Transformer avec `upper()`, `lower()`, `strip()`, `replace()`\n‚Ä¢ D√©couper avec `split()` et joindre avec `join()`\n‚Ä¢ V√©rifier avec `startswith()`, `endswith()`, `in`\n\n**Prochaine √©tape :** Tu vas apprendre √† cr√©er tes propres **fonctions** pour organiser ton code de fa√ßon r√©utilisable !"
    }
  ],
  "exercises": [
    {
      "id": "py_ch6_ex1",
      "type": "predict_output",
      "inputType": "free_input",
      "question": "Combien de caract√®res contient cette cha√Æne ?",
      "code": "texte = \"Python\"\nprint(len(texte))",
      "predefinedAnswers": ["4", "5", "6", "7"],
      "correctAnswer": "6",
      "explanation": "La cha√Æne `\"Python\"` contient 6 lettres : P-y-t-h-o-n. `len()` renvoie donc **6**.",
      "highlightedLines": [2],
      "xpGain": 10
    },
    {
      "id": "py_ch6_ex2",
      "type": "predict_output",
      "inputType": "options",
      "question": "Que va afficher ce code ?",
      "code": "mot = \"Code\"\nresultat = mot * 3\nprint(resultat)",
      "options": ["Code", "CodeCodeCode", "Code Code Code", "Erreur"],
      "correctAnswer": 1,
      "explanation": "L'op√©rateur `*` r√©p√®te la cha√Æne 3 fois : **CodeCodeCode** (sans espaces).",
      "highlightedLines": [2],
      "xpGain": 10
    },
    {
      "id": "py_ch6_ex3",
      "type": "predict_output",
      "inputType": "options",
      "question": "Que va afficher ce programme ?",
      "code": "x = 10\ny = 5\nprint(f\"R√©sultat : {x + y}\")",
      "options": ["R√©sultat : 10 + 5", "R√©sultat : 15", "R√©sultat : x + y", "Erreur"],
      "correctAnswer": 1,
      "explanation": "Dans un f-string, les accolades `{x + y}` sont **√©valu√©es**. Le calcul `10 + 5` donne 15, donc le r√©sultat est **R√©sultat : 15**.",
      "highlightedLines": [3],
      "xpGain": 10
    },
    {
      "id": "py_ch6_ex4",
      "type": "predict_output",
      "inputType": "free_input",
      "question": "Combien d'√©l√©ments contient la liste apr√®s split() ?",
      "code": "phrase = \"un,deux,trois\"\nliste = phrase.split(\",\")\nprint(len(liste))",
      "predefinedAnswers": ["1", "2", "3", "4"],
      "correctAnswer": "3",
      "explanation": "`split(\",\")` d√©coupe la cha√Æne √† chaque virgule, cr√©ant une liste de **3 √©l√©ments** : `['un', 'deux', 'trois']`.",
      "highlightedLines": [2],
      "xpGain": 10
    },
    {
      "id": "py_ch6_ex5",
      "type": "find_error",
      "inputType": "clickable_lines",
      "question": "Ce code devrait v√©rifier l'extension du fichier, mais il ne fonctionne pas comme pr√©vu. Quelle ligne pose probl√®me ?",
      "code": "fichier = \"image.PNG\"\nif fichier.endswith(\".png\"):\n    print(\"C'est une image PNG\")",
      "correctAnswer": 1,
      "explanation": "Ligne 2 : La m√©thode `endswith()` est **sensible √† la casse**. Le fichier se termine par `\".PNG\"` (majuscules), pas `\".png\"`. Solution : `fichier.lower().endswith(\".png\")`.",
      "highlightedLines": [2],
      "xpGain": 10
    }
  ]
}
