{
  "chapterId": "py_ch_001",
  "title": "Variables & Types",
  "subtitle": "D√©couvre comment stocker des donn√©es en Python",
  "sections": [
    {
      "id": "section_1",
      "type": "text",
      "title": "Qu'est-ce qu'une variable ?",
      "content": "Une **variable** est comme une bo√Æte dans laquelle tu peux stocker une valeur (un nombre, du texte, etc.).\n\nElle a un **nom** que tu choisis, et tu peux utiliser ce nom pour acc√©der √† la valeur stock√©e n'importe o√π dans ton programme !"
    },
    {
      "id": "section_2",
      "type": "code_example",
      "language": "python",
      "code": "# Cr√©er une variable\nage = 25\nprint(age)  # Affiche : 25\n\n# Modifier une variable\nage = 26\nprint(age)  # Affiche : 26",
      "caption": "Cr√©er et modifier une variable",
      "highlight": {
        "style": "info",
        "content": "üí° **Astuce** : En Python, pas besoin de d√©clarer le type de la variable. Python le devine automatiquement !"
      }
    },
    {
      "id": "section_3",
      "type": "exercise",
      "exerciseId": "py_ch1_ex1"
    },
    {
      "id": "section_4",
      "type": "text",
      "title": "Les types de donn√©es de base",
      "content": "Python comprend plusieurs **types de donn√©es** fondamentaux :\n\n‚Ä¢ **int** (entier) : nombres sans virgule ‚Üí `42`, `-7`, `0`\n‚Ä¢ **float** (d√©cimal) : nombres avec virgule ‚Üí `3.14`, `-0.5`\n‚Ä¢ **str** (cha√Æne) : texte entre guillemets ‚Üí `\"Bonjour\"`, `'Python'`\n‚Ä¢ **bool** (bool√©en) : vrai ou faux ‚Üí `True`, `False`"
    },
    {
      "id": "section_5",
      "type": "code_example",
      "language": "python",
      "code": "# Exemples de types\nnombre = 42          # int\nprix = 19.99        # float\nnom = \"Alice\"       # str\nest_majeur = True   # bool\n\nprint(nombre, prix, nom, est_majeur)",
      "caption": "Les 4 types de base en action"
    },
    {
      "id": "section_6",
      "type": "exercise",
      "exerciseId": "py_ch1_ex2"
    },
    {
      "id": "section_7",
      "type": "text",
      "title": "La fonction type()",
      "content": "La fonction `type()` permet de conna√Ætre le **type** d'une variable. Tr√®s utile quand tu lis du code et que tu veux comprendre quel type de donn√©es tu manipules !"
    },
    {
      "id": "section_8",
      "type": "code_example",
      "language": "python",
      "code": "x = 42\nprint(type(x))  # <class 'int'>\n\ny = \"Hello\"\nprint(type(y))  # <class 'str'>\n\nz = 3.14\nprint(type(z))  # <class 'float'>",
      "caption": "V√©rifier le type d'une variable",
      "highlight": {
        "style": "success",
        "content": "‚úÖ **Cas d'usage r√©el** : Quand tu lis du code complexe, utilise `type()` pour d√©bugger et comprendre quelles donn√©es transitent dans ton programme."
      }
    },
    {
      "id": "section_9",
      "type": "exercise",
      "exerciseId": "py_ch1_ex3"
    },
    {
      "id": "section_10",
      "type": "text",
      "title": "La fonction input()",
      "content": "La fonction `input()` permet de demander √† l'utilisateur de saisir du texte. **Important** : `input()` renvoie **toujours** une cha√Æne de caract√®res (str), m√™me si l'utilisateur tape un nombre !"
    },
    {
      "id": "section_11",
      "type": "code_example",
      "language": "python",
      "code": "# Demander le nom\nnom = input(\"Comment t'appelles-tu ? \")\nprint(f\"Bonjour {nom} !\")\n\n# Demander l'√¢ge (attention, c'est un str !)\nage = input(\"Quel est ton √¢ge ? \")\nprint(type(age))  # <class 'str'>",
      "caption": "Interagir avec l'utilisateur via input()",
      "highlight": {
        "style": "warning",
        "content": "‚ö†Ô∏è **Attention** : `input()` retourne du texte, pas un nombre ! Si tu tapes `25`, Python le voit comme `\"25\"` (une cha√Æne)."
      }
    },
    {
      "id": "section_12",
      "type": "exercise",
      "exerciseId": "py_ch1_ex4"
    },
    {
      "id": "section_13",
      "type": "text",
      "title": "Conversion de types",
      "content": "Pour convertir une cha√Æne en nombre (ou vice-versa), Python propose des fonctions de **conversion** :\n\n‚Ä¢ `int()` : convertit en entier\n‚Ä¢ `float()` : convertit en d√©cimal\n‚Ä¢ `str()` : convertit en cha√Æne de caract√®res\n‚Ä¢ `bool()` : convertit en bool√©en"
    },
    {
      "id": "section_14",
      "type": "code_example",
      "language": "python",
      "code": "# Convertir une cha√Æne en nombre\nage_str = \"25\"\nage_int = int(age_str)\nprint(age_int + 5)  # 30 (addition possible !)\n\n# Convertir un nombre en cha√Æne\nnombre = 42\ntexte = str(nombre)\nprint(\"Num√©ro : \" + texte)  # Concat√©nation",
      "caption": "Convertir entre types",
      "highlight": {
        "style": "error",
        "content": "üö® **Pi√®ge courant** : Tu ne peux pas additionner un nombre et une cha√Æne !\n\n```python\nage = \"25\"\nprint(age + 5)  # ERREUR !\n```\n\nIl faut d'abord convertir : `int(age) + 5`"
      }
    },
    {
      "id": "section_15",
      "type": "exercise",
      "exerciseId": "py_ch1_ex5"
    },
    {
      "id": "section_16",
      "type": "text",
      "title": "R√©capitulatif",
      "content": "üéØ **Ce que tu as appris :**\n\n‚Ä¢ Cr√©er et utiliser des **variables**\n‚Ä¢ Les 4 types de base : `int`, `float`, `str`, `bool`\n‚Ä¢ Utiliser `type()` pour v√©rifier le type d'une variable\n‚Ä¢ Demander une saisie utilisateur avec `input()`\n‚Ä¢ Convertir entre types avec `int()`, `float()`, `str()`\n\n**Prochaine √©tape :** Tu vas apprendre √† prendre des d√©cisions dans ton code avec les conditions `if` !"
    }
  ],
  "exercises": [
    {
      "id": "py_ch1_ex1",
      "type": "predict_output",
      "inputType": "options",
      "question": "Que va afficher ce code ?",
      "code": "x = 10\nx = 20\nprint(x)",
      "options": ["10", "20", "10 20", "Erreur"],
      "correctAnswer": 1,
      "explanation": "La variable `x` est d'abord initialis√©e √† 10, puis **r√©assign√©e** √† 20. Le `print()` affiche donc la derni√®re valeur : **20**.",
      "highlightedLines": [2, 3],
      "xpGain": 10
    },
    {
      "id": "py_ch1_ex2",
      "type": "concept_understanding",
      "inputType": "options",
      "question": "Quel est le type de la variable `resultat` ?",
      "code": "resultat = 3 + 4.5\nprint(resultat)",
      "options": ["int", "float", "str", "bool"],
      "correctAnswer": 1,
      "explanation": "Quand tu additionnes un `int` (3) et un `float` (4.5), Python convertit automatiquement le r√©sultat en `float`. Donc `resultat` vaut `7.5` et est de type **float**.",
      "highlightedLines": [1],
      "xpGain": 10
    },
    {
      "id": "py_ch1_ex3",
      "type": "predict_output",
      "inputType": "options",
      "question": "Que va afficher ce programme ?",
      "code": "valeur = \"100\"\nprint(type(valeur))",
      "options": ["<class 'int'>", "<class 'str'>", "<class 'float'>", "100"],
      "correctAnswer": 1,
      "explanation": "M√™me si `\"100\"` ressemble √† un nombre, les guillemets en font une **cha√Æne de caract√®res**. `type(valeur)` renvoie donc `<class 'str'>`.",
      "highlightedLines": [1, 2],
      "xpGain": 10
    },
    {
      "id": "py_ch1_ex4",
      "type": "find_error",
      "inputType": "clickable_lines",
      "question": "L'utilisateur tape \"30\" au clavier. Sur quelle ligne le code va planter ?",
      "code": "age = input(\"Ton √¢ge : \")\nannees_restantes = 100 - age\nprint(annees_restantes)",
      "correctAnswer": 1,
      "explanation": "Ligne 2 : `input()` retourne toujours une **cha√Æne** (`\"30\"`). Tu ne peux pas soustraire une cha√Æne d'un nombre ! Il faut d'abord convertir : `100 - int(age)`.",
      "highlightedLines": [2],
      "xpGain": 10
    },
    {
      "id": "py_ch1_ex5",
      "type": "predict_output",
      "inputType": "free_input",
      "question": "Que va afficher ce code ?",
      "code": "nombre = \"42\"\nresultat = int(nombre) + 8\nprint(resultat)",
      "predefinedAnswers": ["42", "428", "50", "8"],
      "correctAnswer": "50",
      "explanation": "`int(nombre)` convertit la cha√Æne `\"42\"` en entier `42`. Ensuite, `42 + 8 = 50`. Le programme affiche donc **50**.",
      "highlightedLines": [2],
      "xpGain": 10
    }
  ]
}
