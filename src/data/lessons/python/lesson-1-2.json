{
  "lessonId": "py_les_1_2",
  "moduleId": "py_mod_001",
  "lessonNumber": "2",
  "title": "Suivre les \"sauts\" (Appels de fonction)",
  "subtitle": "Le code ne va pas toujours tout droit. Apprenez √† suivre l'ex√©cution quand elle se t√©l√©porte.",
  "sections": [
    {
      "id": "section_1",
      "type": "text",
      "title": "Le D√©tour",
      "content": "Quand l'ordinateur rencontre un **appel de fonction** (ex: `login()`), il arr√™te sa lecture lin√©aire.\n\nIl **saute** vers la d√©finition de la fonction (`def login():`), ex√©cute tout le code qui s'y trouve, puis **revient** exactement l√† o√π il s'√©tait arr√™t√© pour continuer."
    },
    {
      "id": "section_2",
      "type": "code_example",
      "language": "python",
      "title": "Exemple : Flux d'Authentification",
      "code": "def verifier_user():\n    print(\"V√©rification en cours...\")\n    print(\"OK\")\n\nprint(\"1. Start\")\n\n# L'appel (Le Saut)\nverifier_user()\n\nprint(\"2. End\")",
      "lineExplanations": {
        "1": "üè∑Ô∏è `def` signifie **\"Je d√©finis une action pour plus tard\"**. Ce code ne s'ex√©cute PAS tout de suite !",
        "2": "‚Ü™Ô∏è L'**indentation** (d√©calage) montre que cette ligne appartient √† la fonction. Elle attend d'√™tre appel√©e.",
        "3": "‚Ü™Ô∏è M√™me chose : fait partie de la fonction et attend l'appel.",
        "5": "üñ®Ô∏è **Premi√®re ligne ex√©cut√©e !** L'ordinateur passe les lignes 1-3 (juste une d√©finition) et arrive ici.",
        "7": "üí¨ Commentaire ignor√©. Il nous pr√©vient qu'un **saut** va se produire.",
        "8": "üöÄ **L'APPEL !** Les parenth√®ses `()` d√©clenchent la fonction. L'ordinateur **saute** √† la ligne 1.",
        "10": "üîô Apr√®s le retour de la fonction, l'ex√©cution reprend ici."
      }
    },
    {
      "id": "section_3",
      "type": "exercise",
      "exerciseId": "py_les_1_2_ex1"
    },
    {
      "id": "section_4",
      "type": "exercise",
      "exerciseId": "py_les_1_2_ex2"
    }
  ],
  "exercises": [
    {
      "id": "py_les_1_2_ex1",
      "type": "trace_execution",
      "inputType": "options",
      "question": "Dans quel ordre exact les messages apparaissent-ils ?",
      "code": "def alerte():\n    print(\"ALERTE\")\n\nprint(\"Scan\")\nalerte()\nprint(\"Clean\")",
      "options": [
        "Scan, Clean, ALERTE",
        "ALERTE, Scan, Clean",
        "Scan, ALERTE, Clean",
        "Scan, Clean"
      ],
      "correctAnswer": 2,
      "explanation": "L'ordre est : 1. Scan (avant l'appel) -> 2. ALERTE (pendant le saut) -> 3. Clean (apr√®s le retour).",
      "highlightedLines": [4, 2, 5, 6],
      "xpGain": 15
    },
    {
      "id": "py_les_1_2_ex2",
      "type": "predict_output",
      "inputType": "options",
      "question": "Pi√®ge fr√©quent : Que se passe-t-il ici ?",
      "code": "def reset_password():\n    print(\"Mot de passe effac√©\")\n\nprint(\"Connexion serveur\")\nprint(\"Admin connect√©\")",
      "options": [
        "Connexion serveur",
        "Mot de passe effac√©",
        "Connexion serveur\nAdmin connect√©",
        "Connexion serveur\nMot de passe effac√©\nAdmin connect√©"
      ],
      "correctAnswer": 2,
      "explanation": "Avez-vous vu le pi√®ge ? La fonction `reset_password` est d√©finie, mais **jamais appel√©e** (pas de `reset_password()` dans le script principal). Son code reste dormant. Rien n'est effac√©.",
      "highlightedLines": [4, 5],
      "xpGain": 15
    }
  ]
}
